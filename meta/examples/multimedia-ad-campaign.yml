# ãƒžãƒ«ãƒãƒ¡ãƒ‡ã‚£ã‚¢åºƒå‘Šã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³åˆ¶ä½œ - è¶…è©³ç´°ã‚¿ã‚¹ã‚¯åˆ†è§£
name: "multimedia-ad-campaign"
description: "çµ±åˆçš„ãªãƒžãƒ«ãƒãƒ¡ãƒ‡ã‚£ã‚¢åºƒå‘Šã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã®å®Œå…¨åˆ¶ä½œãƒ•ãƒ­ãƒ¼ï¼ˆç”»åƒãƒ»å‹•ç”»ãƒ»éŸ³æ¥½ãƒ»3Dçµ±åˆï¼‰"
category: "integrated-marketing-campaign"
complexity_level: 6
estimated_duration_minutes: 60

# å‹•çš„å…¥åŠ›ä»•æ§˜ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ¢ãƒ¼ãƒ€ãƒ«ã§å…¥åŠ›ï¼‰
dynamic_inputs_spec:
  modal:
    title: "ãƒžãƒ«ãƒãƒ¡ãƒ‡ã‚£ã‚¢åºƒå‘Šã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³åˆ¶ä½œè¨­å®š"
    description: "çµ±åˆçš„ãªãƒžãƒ«ãƒãƒ¡ãƒ‡ã‚£ã‚¢åºƒå‘Šã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã®åˆ¶ä½œã«å¿…è¦ãªè¨­å®šã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"
    form_sections:
      - title: "ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³åŸºæœ¬æƒ…å ±"
        inputs:
          - name: "campaign_objective"
            label: "ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ç›®æ¨™"
            type: "textarea"
            placeholder: "ä¾‹ï¼šæ–°å•†å“ã®ãƒ–ãƒ©ãƒ³ãƒ‰èªçŸ¥å‘ä¸Šã¨è³¼è²·ä¿ƒé€²ã‚’ç›®çš„ã¨ã—ãŸçµ±åˆãƒžãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³"
            required: true
            description: "ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã®ä¸»è¦ç›®æ¨™ã¨æœŸå¾…ã™ã‚‹æˆæžœã‚’è©³ã—ãè¨˜å…¥ã—ã¦ãã ã•ã„"
          - name: "target_audience"
            label: "ã‚¿ãƒ¼ã‚²ãƒƒãƒˆé¡§å®¢"
            type: "select"
            options:
              - "20-30ä»£å¥³æ€§ï¼ˆãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ãƒ»ç¾Žå®¹é–¢å¿ƒå±¤ï¼‰"
              - "30-40ä»£ç”·æ€§ï¼ˆãƒ“ã‚¸ãƒã‚¹ãƒ»ãƒ†ã‚¯ãƒŽãƒ­ã‚¸ãƒ¼é–¢å¿ƒå±¤ï¼‰"
              - "10-20ä»£å­¦ç”Ÿï¼ˆã‚¨ãƒ³ã‚¿ãƒ¡ãƒ»ãƒ©ã‚¤ãƒ•ã‚¹ã‚¿ã‚¤ãƒ«é–¢å¿ƒå±¤ï¼‰"
              - "40-60ä»£ãƒ•ã‚¡ãƒŸãƒªãƒ¼ï¼ˆå®¶åº­ãƒ»å­è‚²ã¦é–¢å¿ƒå±¤ï¼‰"
              - "ä¼æ¥­ãƒ»B2Bï¼ˆæ¥­å‹™åŠ¹çŽ‡ãƒ»ã‚³ã‚¹ãƒˆå‰Šæ¸›é–¢å¿ƒå±¤ï¼‰"
              - "ã‚·ãƒ‹ã‚¢å±¤ï¼ˆå¥åº·ãƒ»è¶£å‘³é–¢å¿ƒå±¤ï¼‰"
            required: true
            description: "ä¸»è¦ãªã‚¿ãƒ¼ã‚²ãƒƒãƒˆé¡§å®¢å±¤ã‚’é¸æŠžã—ã¦ãã ã•ã„"
          - name: "budget_range"
            label: "äºˆç®—è¦æ¨¡"
            type: "select"
            options:
              - "ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ï¼ˆ50ä¸‡å††æœªæº€ï¼‰"
              - "ä¸­å°ä¼æ¥­ï¼ˆ50-200ä¸‡å††ï¼‰"
              - "ä¸­å …ä¼æ¥­ï¼ˆ200-500ä¸‡å††ï¼‰"
              - "å¤§ä¼æ¥­ï¼ˆ500-1000ä¸‡å††ï¼‰"
              - "ãƒ¡ã‚¬ã‚³ãƒ¼ãƒãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ1000ä¸‡å††ä»¥ä¸Šï¼‰"
            required: true
            description: "ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã®å¤§ã¾ã‹ãªäºˆç®—è¦æ¨¡ã‚’é¸æŠžã—ã¦ãã ã•ã„"
      - title: "ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ãƒ»ãƒãƒ£ãƒãƒ«è¨­å®š"
        inputs:
          - name: "brand_tone"
            label: "ãƒ–ãƒ©ãƒ³ãƒ‰ãƒˆãƒ¼ãƒ³"
            type: "select"
            options:
              - "ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãƒ»ä¿¡é ¼æ„Ÿé‡è¦–"
              - "è¦ªã—ã¿ã‚„ã™ã„ãƒ»ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«"
              - "é©æ–°çš„ãƒ»å…ˆé€²çš„"
              - "ä¸Šè³ªãƒ»ãƒ—ãƒ¬ãƒŸã‚¢ãƒ "
              - "ã‚¨ãƒãƒ«ã‚®ãƒƒã‚·ãƒ¥ãƒ»æ´»å‹•çš„"
              - "æ¸©ã‹ã„ãƒ»äººé–“å‘³ã®ã‚ã‚‹"
            required: true
            description: "ãƒ–ãƒ©ãƒ³ãƒ‰ã®è¡¨ç¾ã—ãŸã„ãƒˆãƒ¼ãƒ³ã‚’é¸æŠžã—ã¦ãã ã•ã„"
          - name: "channels"
            label: "é…ä¿¡ãƒãƒ£ãƒãƒ«"
            type: "select"
            options:
              - "SNSä¸­å¿ƒï¼ˆInstagramã€TikTokã€Twitterï¼‰"
              - "å‹•ç”»ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ï¼ˆYouTubeã€Vimeoï¼‰"
              - "Webåºƒå‘Šï¼ˆGoogleã€Facebookã€ãƒãƒŠãƒ¼ï¼‰"
              - "ãƒ†ãƒ¬ãƒ“ãƒ»ãƒ‡ã‚¸ã‚¿ãƒ«OOH"
              - "çµ±åˆãƒžãƒ«ãƒãƒãƒ£ãƒãƒ«ï¼ˆå…¨ãƒãƒ£ãƒãƒ«æ´»ç”¨ï¼‰"
              - "B2Bå°‚é–€ï¼ˆLinkedInã€æ¥­ç•Œãƒ¡ãƒ‡ã‚£ã‚¢ï¼‰"
            required: true
            description: "ä¸»è¦ãªé…ä¿¡ãƒãƒ£ãƒãƒ«ã‚’é¸æŠžã—ã¦ãã ã•ã„"
          - name: "content_emphasis"
            label: "ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é‡ç‚¹"
            type: "select"
            options:
              - "ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«é‡è¦–ï¼ˆç”»åƒãƒ»ãƒ‡ã‚¶ã‚¤ãƒ³ä¸­å¿ƒï¼‰"
              - "å‹•ç”»ãƒ»æ˜ åƒé‡è¦–"
              - "éŸ³æ¥½ãƒ»ã‚µã‚¦ãƒ³ãƒ‰é‡è¦–"
              - "3Dãƒ»ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–é‡è¦–"
              - "ãƒãƒ©ãƒ³ã‚¹åž‹ï¼ˆå…¨ç´ æå‡ç­‰ï¼‰"
            required: true
            description: "ç‰¹ã«åŠ›ã‚’å…¥ã‚ŒãŸã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—ã‚’é¸æŠžã—ã¦ãã ã•ã„"
      - title: "å®Ÿæ–½ãƒ»å“è³ªè¨­å®š"
        inputs:
          - name: "campaign_duration"
            label: "å®Ÿæ–½æœŸé–“"
            type: "select"
            options:
              - "çŸ­æœŸé›†ä¸­ï¼ˆ2-4é€±é–“ï¼‰"
              - "æ¨™æº–æœŸé–“ï¼ˆ1-2ãƒ¶æœˆï¼‰"
              - "ä¸­æœŸå®Ÿæ–½ï¼ˆ3-6ãƒ¶æœˆï¼‰"
              - "é•·æœŸç¶™ç¶šï¼ˆ6ãƒ¶æœˆä»¥ä¸Šï¼‰"
              - "ã‚¤ãƒ™ãƒ³ãƒˆé€£å‹•ï¼ˆç‰¹å®šæœŸé–“ï¼‰"
            required: true
            description: "ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã®å®Ÿæ–½æœŸé–“ã‚’é¸æŠžã—ã¦ãã ã•ã„"
          - name: "quality_priority"
            label: "å“è³ªå„ªå…ˆåº¦"
            type: "range"
            min: 1
            max: 10
            default: 7
            description: "1=é€Ÿåº¦é‡è¦–ã€10=æœ€é«˜å“è³ªé‡è¦–ã€‚é«˜å“è³ªã»ã©åˆ¶ä½œæ™‚é–“ãŒé•·ããªã‚Šã¾ã™"
          - name: "innovation_level"
            label: "é©æ–°æ€§ãƒ¬ãƒ™ãƒ«"
            type: "range"
            min: 1
            max: 10
            default: 6
            description: "1=å®‰å…¨ãƒ»å®Ÿç¸¾é‡è¦–ã€10=æœ€æ–°æŠ€è¡“ãƒ»å®Ÿé¨“çš„ã€‚é©æ–°æ€§ãŒé«˜ã„ã»ã©ãƒªã‚¹ã‚¯ã‚‚é«˜ã¾ã‚Šã¾ã™"
  
  github_inputs:
    campaign_objective:
      description: "ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã®ä¸»è¦ç›®æ¨™ã¨æœŸå¾…ã™ã‚‹æˆæžœ"
      required: true
    target_audience:
      description: "ä¸»è¦ãªã‚¿ãƒ¼ã‚²ãƒƒãƒˆé¡§å®¢å±¤"
      required: true
    budget_range:
      description: "ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã®å¤§ã¾ã‹ãªäºˆç®—è¦æ¨¡"
      required: true
    brand_tone:
      description: "ãƒ–ãƒ©ãƒ³ãƒ‰ã®è¡¨ç¾ã—ãŸã„ãƒˆãƒ¼ãƒ³ã¨ã‚¹ã‚¿ã‚¤ãƒ«"
      required: true
    channels:
      description: "ä¸»è¦ãªé…ä¿¡ãƒãƒ£ãƒãƒ«ãƒ»ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ "
      required: true
    content_emphasis:
      description: "ç‰¹ã«åŠ›ã‚’å…¥ã‚ŒãŸã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—"
      required: true
    campaign_duration:
      description: "ã‚­ãƒ£ãƒ³ãƒšãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿæ–½æœŸé–“"
      required: true
    quality_priority:
      description: "å“è³ªå„ªå…ˆåº¦ï¼ˆ1-10ï¼‰"
      required: false
      default: "7"
    innovation_level:
      description: "é©æ–°æ€§ãƒ¬ãƒ™ãƒ«ï¼ˆ1-10ï¼‰"
      required: false
      default: "6"

# äººé–“ã®ç„¡æ„è­˜æ€è€ƒãƒ—ãƒ­ã‚»ã‚¹
human_process:
  - phase: "campaign_strategy"
    description: "ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³æˆ¦ç•¥æ®µéšŽï¼ˆç›®æ¨™ãƒ»å¯¾è±¡ãƒ»ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ»ãƒãƒ£ãƒãƒ«æˆ¦ç•¥ï¼‰"
  - phase: "creative_concept"
    description: "ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚³ãƒ³ã‚»ãƒ—ãƒˆæ®µéšŽï¼ˆã‚¢ã‚¤ãƒ‡ã‚¢ãƒ»ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«æ–¹å‘æ€§ãƒ»ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ï¼‰"
  - phase: "asset_planning"
    description: "ç´ æä¼ç”»æ®µéšŽï¼ˆå¿…è¦ç´ æãƒ»åˆ¶ä½œä»•æ§˜ãƒ»å“è³ªåŸºæº–ãƒ»ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼‰"
  - phase: "multimedia_production"
    description: "ãƒžãƒ«ãƒãƒ¡ãƒ‡ã‚£ã‚¢åˆ¶ä½œæ®µéšŽï¼ˆç”»åƒãƒ»å‹•ç”»ãƒ»éŸ³æ¥½ãƒ»3Dãƒ»ãƒ†ã‚­ã‚¹ãƒˆçµ±åˆåˆ¶ä½œï¼‰"
  - phase: "integration_optimization"
    description: "çµ±åˆæœ€é©åŒ–æ®µéšŽï¼ˆãƒãƒ£ãƒãƒ«åˆ¥æœ€é©åŒ–ãƒ»ä¸€è²«æ€§ãƒ»ç›¸ä¹—åŠ¹æžœï¼‰"
  - phase: "campaign_finalization"
    description: "ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³å®Œæˆæ®µéšŽï¼ˆå“è³ªç®¡ç†ãƒ»é…ä¿¡æº–å‚™ãƒ»åŠ¹æžœæ¸¬å®šè¨­å®šï¼‰"

# GitHub Actions ãƒŽãƒ¼ãƒ‰è¨­è¨ˆ
github_actions_config:
  workflow_name: "Multimedia Ad Campaign Creation Pipeline"
  on_triggers: ["workflow_dispatch", "issues"]
  permissions:
    contents: "write"
    issues: "write"
    actions: "read"
  artifacts_retention_days: 30
  max_parallel_jobs: 5

# è¶…è©³ç´°ã‚¿ã‚¹ã‚¯åˆ†è§£
tasks:
  # === äº‹å‰ãƒ†ã‚¹ãƒˆæ®µéšŽ ===
  - id: "multimedia-services-connectivity-test"
    name: "å…¨ãƒžãƒ«ãƒãƒ¡ãƒ‡ã‚£ã‚¢ã‚µãƒ¼ãƒ“ã‚¹æŽ¥ç¶šãƒ†ã‚¹ãƒˆ"
    phase: "pre_validation"
    github_job: "connectivity-test"
    type: "validation"
    implementation: "mcp"
    duration_minutes: 5
    dependencies: []
    parallel_group: null
    
    github_steps:
      - name: "Test all multimedia generation services"
        shell: "bash"
        script: |
          echo "ðŸŽ¯ Testing comprehensive multimedia ad services..."
          
          mkdir -p .logs/connectivity-tests
          
          # ç”»åƒç”Ÿæˆã‚µãƒ¼ãƒ“ã‚¹ãƒ†ã‚¹ãƒˆï¼ˆåºƒå‘Šãƒ¡ã‚¤ãƒ³ç´ æï¼‰
          echo "Testing image generation services..."
          if timeout 60 claude-code --mcp-config=~/.claude/mcp-kamuicode.json --mcp t2i-fal-imagen4-ultra --prompt "professional advertisement image test" > .logs/connectivity-tests/image-ultra-test.log 2>&1; then
            IMAGE_ULTRA_STATUS="success"
            echo "âœ… Image Generation (Ultra): Available"
          else
            IMAGE_ULTRA_STATUS="failed"
            echo "âš ï¸ Image Ultra: Not available"
          fi
          
          if timeout 45 claude-code --mcp-config=~/.claude/mcp-kamuicode.json --mcp t2i-fal-imagen4-fast --prompt "advertisement graphics test" > .logs/connectivity-tests/image-fast-test.log 2>&1; then
            IMAGE_FAST_STATUS="success"
            echo "âœ… Image Generation (Fast): Available"
          else
            IMAGE_FAST_STATUS="failed"
            echo "âš ï¸ Image Fast: Not available"
          fi
          
          if timeout 60 claude-code --mcp-config=~/.claude/mcp-kamuicode.json --mcp t2i-google-imagen3 --prompt "google imagen test" > .logs/connectivity-tests/image-google-test.log 2>&1; then
            IMAGE_GOOGLE_STATUS="success"
            echo "âœ… Google Imagen3: Available"
          else
            IMAGE_GOOGLE_STATUS="failed"
            echo "âš ï¸ Google Imagen3: Not available"
          fi
          
          # å‹•ç”»ç”Ÿæˆã‚µãƒ¼ãƒ“ã‚¹ãƒ†ã‚¹ãƒˆ
          echo "Testing video generation services..."
          if timeout 120 claude-code --mcp-config=~/.claude/mcp-kamuicode.json --mcp t2v-fal-veo3-fast --prompt "test advertisement video" > .logs/connectivity-tests/video-test.log 2>&1; then
            VIDEO_STATUS="success"
            echo "âœ… Video Generation (T2V): Available"
          else
            VIDEO_STATUS="failed"
            echo "âš ï¸ Video Generation: Not available"
          fi
          
          if timeout 90 claude-code --mcp-config=~/.claude/mcp-kamuicode.json --mcp i2v-fal-hailuo-02-pro --image-path "/tmp/test.jpg" > .logs/connectivity-tests/i2v-test.log 2>&1; then
            I2V_STATUS="success"
            echo "âœ… Image-to-Video: Available"
          else
            I2V_STATUS="failed"
            echo "âš ï¸ Image-to-Video: Not available"
          fi
          
          # éŸ³æ¥½ãƒ»éŸ³å£°ç”Ÿæˆã‚µãƒ¼ãƒ“ã‚¹ãƒ†ã‚¹ãƒˆ
          echo "Testing audio generation services..."
          if timeout 90 claude-code --mcp-config=~/.claude/mcp-kamuicode.json --mcp t2m-google-lyria --prompt "advertisement background music" > .logs/connectivity-tests/music-test.log 2>&1; then
            MUSIC_STATUS="success"
            echo "âœ… Music Generation: Available"
          else
            MUSIC_STATUS="failed"
            echo "âš ï¸ Music Generation: Not available"
          fi
          
          if timeout 60 claude-code --mcp-config=~/.claude/mcp-kamuicode.json --mcp v2a-fal-thinksound --video-path "/tmp/test.mp4" > .logs/connectivity-tests/v2a-test.log 2>&1; then
            V2A_STATUS="success"
            echo "âœ… Video-to-Audio: Available"
          else
            V2A_STATUS="failed"
            echo "âš ï¸ Video-to-Audio: Not available"
          fi
          
          # 3Dç”Ÿæˆã‚µãƒ¼ãƒ“ã‚¹ãƒ†ã‚¹ãƒˆ
          echo "Testing 3D generation services..."
          if timeout 120 claude-code --mcp-config=~/.claude/mcp-kamuicode.json --mcp i2i3d-fal-hunyuan3d-v21 --image-path "/tmp/test.jpg" > .logs/connectivity-tests/3d-test.log 2>&1; then
            THREED_STATUS="success"
            echo "âœ… 3D Model Generation: Available"
          else
            THREED_STATUS="failed"
            echo "âš ï¸ 3D Generation: Not available"
          fi
          
          # ç”»åƒå¼·åŒ–ã‚µãƒ¼ãƒ“ã‚¹ãƒ†ã‚¹ãƒˆ
          echo "Testing image enhancement services..."
          if timeout 60 claude-code --mcp-config=~/.claude/mcp-kamuicode.json --mcp i2i-fal-flux-kontext-max --image-path "/tmp/test.jpg" > .logs/connectivity-tests/enhancement-test.log 2>&1; then
            ENHANCEMENT_STATUS="success"
            echo "âœ… Image Enhancement: Available"
          else
            ENHANCEMENT_STATUS="failed"
            echo "âš ï¸ Image Enhancement: Not available"
          fi
          
          # å‹•ç”»ç·¨é›†ã‚µãƒ¼ãƒ“ã‚¹ãƒ†ã‚¹ãƒˆ
          echo "Testing video editing services..."
          if timeout 90 claude-code --mcp-config=~/.claude/mcp-kamuicode.json --mcp v2v-fal-luma-ray2-modify --video-path "/tmp/test.mp4" > .logs/connectivity-tests/video-edit-test.log 2>&1; then
            VIDEO_EDIT_STATUS="success"
            echo "âœ… Video Editing: Available"
          else
            VIDEO_EDIT_STATUS="failed"
            echo "âš ï¸ Video Editing: Not available"
          fi
          
          # Reference-to-Video ã‚µãƒ¼ãƒ“ã‚¹ãƒ†ã‚¹ãƒˆ
          echo "Testing reference-to-video services..."
          if timeout 100 claude-code --mcp-config=~/.claude/mcp-kamuicode.json --mcp r2v-fal-vidu-q1 --reference-path "/tmp/test.jpg" > .logs/connectivity-tests/r2v-test.log 2>&1; then
            R2V_STATUS="success"
            echo "âœ… Reference-to-Video: Available"
          else
            R2V_STATUS="failed"
            echo "âš ï¸ Reference-to-Video: Not available"
          fi
          
          # ã‚µãƒ¼ãƒ“ã‚¹å¯ç”¨æ€§ã®ç·åˆè©•ä¾¡
          BASIC_CAPABILITY="none"
          ADVANCED_CAPABILITY="none"
          
          # åŸºæœ¬æ©Ÿèƒ½åˆ¤å®šï¼ˆç”»åƒ+å‹•ç”»ã¾ãŸã¯éŸ³æ¥½ï¼‰
          if [ "$IMAGE_FAST_STATUS" = "success" ] || [ "$IMAGE_ULTRA_STATUS" = "success" ] || [ "$IMAGE_GOOGLE_STATUS" = "success" ]; then
            if [ "$VIDEO_STATUS" = "success" ] || [ "$MUSIC_STATUS" = "success" ]; then
              BASIC_CAPABILITY="available"
            fi
          fi
          
          # é«˜åº¦æ©Ÿèƒ½åˆ¤å®šï¼ˆ3Dã€é«˜å“è³ªå‹•ç”»ç·¨é›†ç­‰ï¼‰
          if [ "$THREED_STATUS" = "success" ] && [ "$VIDEO_EDIT_STATUS" = "success" ] && [ "$ENHANCEMENT_STATUS" = "success" ]; then
            ADVANCED_CAPABILITY="available"
          fi
          
          # ãƒ†ã‚¹ãƒˆçµæžœã‚’JSONä¿å­˜
          cat > .logs/connectivity-tests/test-results.json << EOF
          {
            "timestamp": "$(date -u +%Y-%m-%dT%H:%M:%SZ)",
            "multimedia_services": {
              "image_generation": {
                "ultra_quality": "$IMAGE_ULTRA_STATUS",
                "fast_quality": "$IMAGE_FAST_STATUS",
                "google_imagen": "$IMAGE_GOOGLE_STATUS"
              },
              "video_generation": {
                "text_to_video": "$VIDEO_STATUS",
                "image_to_video": "$I2V_STATUS",
                "reference_to_video": "$R2V_STATUS",
                "video_editing": "$VIDEO_EDIT_STATUS"
              },
              "audio_generation": {
                "music_creation": "$MUSIC_STATUS",
                "video_to_audio": "$V2A_STATUS"
              },
              "3d_generation": {
                "model_creation": "$THREED_STATUS"
              },
              "enhancement_services": {
                "image_enhancement": "$ENHANCEMENT_STATUS"
              }
            },
            "capability_assessment": {
              "basic_multimedia_capability": "$BASIC_CAPABILITY",
              "advanced_multimedia_capability": "$ADVANCED_CAPABILITY",
              "workflow_can_proceed": $([ "$BASIC_CAPABILITY" = "available" ] && echo "true" || echo "false"),
              "full_feature_campaign": $([ "$ADVANCED_CAPABILITY" = "available" ] && echo "true" || echo "false")
            },
            "service_priorities": {
              "primary_image_service": "$([ "$IMAGE_ULTRA_STATUS" = "success" ] && echo "ultra" || [ "$IMAGE_FAST_STATUS" = "success" ] && echo "fast" || [ "$IMAGE_GOOGLE_STATUS" = "success" ] && echo "google" || echo "none")",
              "video_capability": "$([ "$VIDEO_STATUS" = "success" ] && echo "full" || [ "$I2V_STATUS" = "success" ] && echo "i2v_only" || echo "none")",
              "audio_capability": "$([ "$MUSIC_STATUS" = "success" ] && [ "$V2A_STATUS" = "success" ] && echo "full" || [ "$MUSIC_STATUS" = "success" ] && echo "music_only" || echo "none")",
              "enhancement_level": "$([ "$ENHANCEMENT_STATUS" = "success" ] && [ "$VIDEO_EDIT_STATUS" = "success" ] && echo "professional" || echo "basic")"
            }
          }
          EOF
          
          # ç’°å¢ƒå¤‰æ•°ã«çµæžœã‚’è¨­å®š
          echo "BASIC_CAPABILITY=$BASIC_CAPABILITY" >> $GITHUB_ENV
          echo "ADVANCED_CAPABILITY=$ADVANCED_CAPABILITY" >> $GITHUB_ENV
          echo "PRIMARY_IMAGE_SERVICE=$([ "$IMAGE_ULTRA_STATUS" = "success" ] && echo "ultra" || [ "$IMAGE_FAST_STATUS" = "success" ] && echo "fast" || [ "$IMAGE_GOOGLE_STATUS" = "success" ] && echo "google" || echo "none")" >> $GITHUB_ENV
          echo "VIDEO_CAPABILITY=$([ "$VIDEO_STATUS" = "success" ] && echo "full" || [ "$I2V_STATUS" = "success" ] && echo "i2v_only" || echo "none")" >> $GITHUB_ENV
          echo "AUDIO_CAPABILITY=$([ "$MUSIC_STATUS" = "success" ] && [ "$V2A_STATUS" = "success" ] && echo "full" || [ "$MUSIC_STATUS" = "success" ] && echo "music_only" || echo "none")" >> $GITHUB_ENV
          
          echo "ðŸŽ¯ Multimedia services connectivity tests completed"
          echo "Basic capability: $BASIC_CAPABILITY"
          echo "Advanced capability: $ADVANCED_CAPABILITY"
          
    validation:
      criteria:
        - "åŸºæœ¬çš„ãªãƒžãƒ«ãƒãƒ¡ãƒ‡ã‚£ã‚¢æ©Ÿèƒ½ãŒåˆ©ç”¨å¯èƒ½"
        - "ãƒ†ã‚¹ãƒˆçµæžœãŒJSONå½¢å¼ã§ä¿å­˜ã•ã‚Œã¦ã„ã‚‹"
        - "ã‚µãƒ¼ãƒ“ã‚¹å„ªå…ˆåº¦ãŒæ±ºå®šã•ã‚Œã¦ã„ã‚‹"
      validation_script: |
        if [ ! -f ".logs/connectivity-tests/test-results.json" ]; then
          echo "âŒ VALIDATION FAILED: Test results missing"
          exit 1
        fi
        
        WORKFLOW_CAN_PROCEED=$(jq -r '.capability_assessment.workflow_can_proceed' .logs/connectivity-tests/test-results.json)
        if [ "$WORKFLOW_CAN_PROCEED" = "true" ]; then
          echo "âœ… Validation passed: Multimedia campaign services ready"
        else
          echo "âŒ VALIDATION FAILED: Critical multimedia services unavailable"
          exit 1
        fi

  # === ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³æˆ¦ç•¥æ®µéšŽ ===
  - id: "campaign-strategy-development"
    name: "ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³æˆ¦ç•¥ãƒ»ã‚¿ãƒ¼ã‚²ãƒ†ã‚£ãƒ³ã‚°åˆ†æž"
    phase: "campaign_strategy"
    github_job: "strategy-development"
    type: "analysis"
    implementation: "ai"
    duration_minutes: 6
    dependencies: ["multimedia-services-connectivity-test"]
    parallel_group: null
    
    github_steps:
      - name: "Develop comprehensive campaign strategy"
        shell: "bash"
        script: |
          echo "ðŸŽ¯ Developing comprehensive campaign strategy..."
          
          mkdir -p .logs/campaign-strategy
          
          # å…¥åŠ›ã‹ã‚‰ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³è¦ä»¶ã‚’æŠ½å‡º
          CAMPAIGN_OBJECTIVE="${{ github.event.inputs.campaign_objective || github.event.issue.title || 'Brand Awareness Campaign' }}"
          TARGET_AUDIENCE="${{ github.event.inputs.target_audience || 'general consumers' }}"
          BUDGET_RANGE="${{ github.event.inputs.budget_range || 'medium budget' }}"
          CAMPAIGN_DURATION="${{ github.event.inputs.campaign_duration || '4 weeks' }}"
          CHANNELS="${{ github.event.inputs.channels || 'digital channels' }}"
          BRAND_TONE="${{ github.event.inputs.brand_tone || 'professional and friendly' }}"
          
          echo "Campaign objective: $CAMPAIGN_OBJECTIVE"
          echo "Target audience: $TARGET_AUDIENCE"
          echo "Budget range: $BUDGET_RANGE"
          echo "Duration: $CAMPAIGN_DURATION"
          echo "Channels: $CHANNELS"
          echo "Brand tone: $BRAND_TONE"
          
          # Claude Code ã§ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³æˆ¦ç•¥é–‹ç™º
          claude-code --prompt "ä»¥ä¸‹ã®è¦ä»¶ã«åŸºã¥ã„ã¦ã€åŒ…æ‹¬çš„ãªãƒžãƒ«ãƒãƒ¡ãƒ‡ã‚£ã‚¢åºƒå‘Šã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³æˆ¦ç•¥ã‚’é–‹ç™ºã—ã¦ãã ã•ã„ï¼š
          
          ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ç›®æ¨™: $CAMPAIGN_OBJECTIVE
          å¯¾è±¡é¡§å®¢: $TARGET_AUDIENCE
          äºˆç®—è¦æ¨¡: $BUDGET_RANGE
          å®Ÿæ–½æœŸé–“: $CAMPAIGN_DURATION
          æ´»ç”¨ãƒãƒ£ãƒãƒ«: $CHANNELS
          ãƒ–ãƒ©ãƒ³ãƒ‰ãƒˆãƒ¼ãƒ³: $BRAND_TONE
          
          ä»¥ä¸‹ã®å½¢å¼ã§JSONã§å›žç­”ã—ã¦ãã ã•ã„ï¼š
          {
            \"campaign_overview\": {
              \"campaign_name\": \"ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³å\",
              \"primary_objective\": \"ä¸»è¦ç›®æ¨™\",
              \"success_metrics\": [\"æˆåŠŸæŒ‡æ¨™\"],
              \"unique_value_proposition\": \"ç‹¬è‡ªä¾¡å€¤ææ¡ˆ\",
              \"competitive_advantage\": \"ç«¶åˆå„ªä½æ€§\"
            },
            \"target_analysis\": {
              \"primary_persona\": {
                \"demographics\": \"äººå£çµ±è¨ˆçš„ç‰¹å¾´\",
                \"psychographics\": \"å¿ƒç†çš„ç‰¹å¾´\",
                \"pain_points\": [\"èª²é¡Œãƒ»ãƒ‹ãƒ¼ã‚º\"],
                \"media_consumption\": [\"ãƒ¡ãƒ‡ã‚£ã‚¢æŽ¥è§¦ç¿’æ…£\"],
                \"decision_factors\": [\"è³¼è²·æ±ºå®šè¦å› \"]
              },
              \"secondary_personas\": [\"ã‚µãƒ–ã‚¿ãƒ¼ã‚²ãƒƒãƒˆç¾¤\"],
              \"market_size\": \"å¸‚å ´è¦æ¨¡æŽ¨å®š\",
              \"growth_potential\": \"æˆé•·å¯èƒ½æ€§\"
            },
            \"messaging_strategy\": {
              \"core_message\": \"æ ¸ã¨ãªã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸\",
              \"supporting_messages\": [\"ã‚µãƒãƒ¼ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸\"],
              \"emotional_triggers\": [\"æ„Ÿæƒ…çš„è¨´æ±‚ãƒã‚¤ãƒ³ãƒˆ\"],
              \"rational_benefits\": [\"ç†æ€§çš„ãƒ™ãƒãƒ•ã‚£ãƒƒãƒˆ\"],
              \"call_to_action\": \"è¡Œå‹•å–šèµ·ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸\"
            },
            \"channel_strategy\": {
              \"primary_channels\": [\"ä¸»è¦ãƒãƒ£ãƒãƒ«\"],
              \"secondary_channels\": [\"è£œåŠ©ãƒãƒ£ãƒãƒ«\"],
              \"channel_mix_rationale\": \"ãƒãƒ£ãƒãƒ«ãƒŸãƒƒã‚¯ã‚¹ã®ç†ç”±\",
              \"cross_channel_synergy\": \"ãƒãƒ£ãƒãƒ«é–“ç›¸ä¹—åŠ¹æžœ\"
            },
            \"multimedia_requirements\": {
              \"content_types_needed\": [\"å¿…è¦ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—\"],
              \"format_specifications\": {
                \"images\": [\"ç”»åƒä»•æ§˜è¦ä»¶\"],
                \"videos\": [\"å‹•ç”»ä»•æ§˜è¦ä»¶\"],
                \"audio\": [\"éŸ³å£°ä»•æ§˜è¦ä»¶\"],
                \"3d_content\": [\"3Dã‚³ãƒ³ãƒ†ãƒ³ãƒ„è¦ä»¶\"]
              },
              \"quality_standards\": \"å“è³ªåŸºæº–\",
              \"brand_consistency\": \"ãƒ–ãƒ©ãƒ³ãƒ‰ä¸€è²«æ€§è¦ä»¶\"
            },
            \"campaign_timeline\": {
              \"phase_1\": \"ç¬¬1ãƒ•ã‚§ãƒ¼ã‚ºï¼ˆæº–å‚™ãƒ»åˆ¶ä½œï¼‰\",
              \"phase_2\": \"ç¬¬2ãƒ•ã‚§ãƒ¼ã‚ºï¼ˆå®Ÿè¡Œãƒ»å±•é–‹ï¼‰\",
              \"phase_3\": \"ç¬¬3ãƒ•ã‚§ãƒ¼ã‚ºï¼ˆæœ€é©åŒ–ãƒ»æ‹¡å¼µï¼‰\",
              \"key_milestones\": [\"é‡è¦ãƒžã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³\"],
              \"optimization_points\": [\"æœ€é©åŒ–ãƒã‚¤ãƒ³ãƒˆ\"]
            },
            \"success_measurement\": {
              \"kpis\": [\"ä¸»è¦æ¥­ç¸¾æŒ‡æ¨™\"],
              \"tracking_methods\": [\"æ¸¬å®šæ–¹æ³•\"],
              \"reporting_frequency\": \"ãƒ¬ãƒãƒ¼ãƒˆé »åº¦\",
              \"optimization_triggers\": [\"æœ€é©åŒ–å®Ÿè¡Œãƒˆãƒªã‚¬ãƒ¼\"]
            }
          }" > .logs/campaign-strategy/campaign-strategy.json
          
          CAMPAIGN_STRATEGY=$(cat .logs/campaign-strategy/campaign-strategy.json)
          echo "CAMPAIGN_STRATEGY_FILE=.logs/campaign-strategy/campaign-strategy.json" >> $GITHUB_ENV
          
          # å¿…è¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—ã‚’ç’°å¢ƒå¤‰æ•°ã«è¨­å®š
          CONTENT_TYPES=$(echo "$CAMPAIGN_STRATEGY" | jq -r '.multimedia_requirements.content_types_needed | join(",")')
          echo "REQUIRED_CONTENT_TYPES=$CONTENT_TYPES" >> $GITHUB_ENV
          
          echo "ðŸŽ¯ Campaign strategy development completed"
          echo "Required content types: $CONTENT_TYPES"

  - id: "creative-concept-ideation"
    name: "ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚³ãƒ³ã‚»ãƒ—ãƒˆãƒ»ã‚¢ã‚¤ãƒ‡ã‚¢é–‹ç™º"
    phase: "creative_concept"
    github_job: "concept-ideation"
    type: "creation"
    implementation: "ai"
    duration_minutes: 5
    dependencies: ["campaign-strategy-development"]
    parallel_group: null
    
    github_steps:
      - name: "Develop creative concepts and ideas"
        shell: "bash"
        script: |
          echo "ðŸ’¡ Developing creative concepts and ideas..."
          
          mkdir -p .logs/creative-concept
          
          CAMPAIGN_STRATEGY=$(cat .logs/campaign-strategy/campaign-strategy.json)
          
          # ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚³ãƒ³ã‚»ãƒ—ãƒˆé–‹ç™º
          claude-code --prompt "ä»¥ä¸‹ã®ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³æˆ¦ç•¥ã«åŸºã¥ã„ã¦ã€é©æ–°çš„ã§åŠ¹æžœçš„ãªã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚³ãƒ³ã‚»ãƒ—ãƒˆã‚’é–‹ç™ºã—ã¦ãã ã•ã„ï¼š
          
          ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³æˆ¦ç•¥: $CAMPAIGN_STRATEGY
          
          ä»¥ä¸‹ã®å½¢å¼ã§JSONã§å›žç­”ã—ã¦ãã ã•ã„ï¼š
          {
            \"creative_theme\": {
              \"central_concept\": \"ä¸­å¿ƒçš„ãªã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚³ãƒ³ã‚»ãƒ—ãƒˆ\",
              \"visual_metaphor\": \"è¦–è¦šçš„ãƒ¡ã‚¿ãƒ•ã‚¡ãƒ¼\",
              \"storytelling_approach\": \"ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ†ãƒªãƒ³ã‚°æ‰‹æ³•\",
              \"emotional_arc\": \"æ„Ÿæƒ…çš„ãªæµã‚Œ\",
              \"memorable_elements\": [\"è¨˜æ†¶ã«æ®‹ã‚‹è¦ç´ \"]
            },
            \"visual_identity\": {
              \"color_palette\": {
                \"primary_colors\": [\"ãƒ¡ã‚¤ãƒ³ã‚«ãƒ©ãƒ¼ï¼ˆHEXã‚³ãƒ¼ãƒ‰ï¼‰\"],
                \"secondary_colors\": [\"ã‚µãƒ–ã‚«ãƒ©ãƒ¼ï¼ˆHEXã‚³ãƒ¼ãƒ‰ï¼‰\"],
                \"accent_colors\": [\"ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã‚«ãƒ©ãƒ¼ï¼ˆHEXã‚³ãƒ¼ãƒ‰ï¼‰\"]
              },
              \"typography_style\": \"ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£ã‚¹ã‚¿ã‚¤ãƒ«\",
              \"visual_style\": \"å…¨ä½“çš„ãªãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚¹ã‚¿ã‚¤ãƒ«\",
              \"imagery_direction\": \"ç”»åƒã®æ–¹å‘æ€§\",
              \"iconography\": \"ã‚¢ã‚¤ã‚³ãƒŽã‚°ãƒ©ãƒ•ã‚£ãƒ¼æ–¹é‡\"
            },
            \"content_concepts\": [
              {
                \"concept_name\": \"ã‚³ãƒ³ã‚»ãƒ—ãƒˆå\",
                \"media_type\": \"image|video|audio|3d|mixed\",
                \"core_idea\": \"æ ¸ã¨ãªã‚‹ã‚¢ã‚¤ãƒ‡ã‚¢\",
                \"visual_description\": \"ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«è¡¨ç¾ã®è©³ç´°\",
                \"target_emotion\": \"ç‹™ã†æ„Ÿæƒ…\",
                \"key_message\": \"ä¼ãˆã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸\",
                \"production_complexity\": \"low|medium|high\",
                \"estimated_impact\": \"high|medium|low\"
              }
            ],
            \"multimedia_integration\": {
              \"cross_media_consistency\": \"ãƒ¡ãƒ‡ã‚£ã‚¢é–“ä¸€è²«æ€§ã®æ–¹é‡\",
              \"format_adaptation\": \"ãƒ•ã‚©ãƒ¼ãƒžãƒƒãƒˆé©å¿œæˆ¦ç•¥\",
              \"synergy_opportunities\": [\"ç›¸ä¹—åŠ¹æžœã®æ©Ÿä¼š\"],
              \"user_journey_mapping\": \"ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ã§ã®æ´»ç”¨\"
            },
            \"innovation_elements\": {
              \"cutting_edge_techniques\": [\"æœ€å…ˆç«¯æŠ€è¡“ã®æ´»ç”¨\"],
              \"interactive_features\": [\"ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–è¦ç´ \"],
              \"personalization_opportunities\": [\"ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿä¼š\"],
              \"viral_potential\": \"ãƒã‚¤ãƒ©ãƒ«å¯èƒ½æ€§\"
            },
            \"execution_guidelines\": {
              \"quality_standards\": \"å“è³ªåŸºæº–\",
              \"brand_compliance\": \"ãƒ–ãƒ©ãƒ³ãƒ‰éµå®ˆäº‹é …\",
              \"technical_requirements\": [\"æŠ€è¡“è¦ä»¶\"],
              \"approval_criteria\": [\"æ‰¿èªåŸºæº–\"]
            }
          }" > .logs/creative-concept/creative-concepts.json
          
          CREATIVE_CONCEPTS=$(cat .logs/creative-concept/creative-concepts.json)
          echo "CREATIVE_CONCEPTS_FILE=.logs/creative-concept/creative-concepts.json" >> $GITHUB_ENV
          
          # ã‚³ãƒ³ã‚»ãƒ—ãƒˆæ•°ã‚’ç’°å¢ƒå¤‰æ•°ã«è¨­å®š
          CONCEPT_COUNT=$(echo "$CREATIVE_CONCEPTS" | jq '.content_concepts | length')
          echo "CONCEPT_COUNT=$CONCEPT_COUNT" >> $GITHUB_ENV
          
          echo "ðŸ’¡ Creative concept development completed"
          echo "Generated concepts: $CONCEPT_COUNT"

  # === ç´ æä¼ç”»æ®µéšŽ ===
  - id: "asset-specification-planning"
    name: "åˆ¶ä½œç´ æä»•æ§˜ãƒ»å„ªå…ˆåº¦è¨ˆç”»"
    phase: "asset_planning"
    github_job: "asset-planning"
    type: "planning"
    implementation: "ai"
    duration_minutes: 4
    dependencies: ["creative-concept-ideation"]
    parallel_group: null
    
    github_steps:
      - name: "Plan asset specifications and priorities"
        shell: "bash"
        script: |
          echo "ðŸ“‹ Planning asset specifications and production priorities..."
          
          mkdir -p .logs/asset-planning
          
          CAMPAIGN_STRATEGY=$(cat .logs/campaign-strategy/campaign-strategy.json)
          CREATIVE_CONCEPTS=$(cat .logs/creative-concept/creative-concepts.json)
          TEST_RESULTS=$(cat .logs/connectivity-tests/test-results.json)
          
          # ç´ æåˆ¶ä½œè¨ˆç”»ã®è©³ç´°è¨­è¨ˆ
          claude-code --prompt "ä»¥ä¸‹ã®æƒ…å ±ã‚’åŸºã«ã€ãƒžãƒ«ãƒãƒ¡ãƒ‡ã‚£ã‚¢åºƒå‘Šã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã®åˆ¶ä½œç´ æä»•æ§˜ã¨å„ªå…ˆåº¦ã‚’è¨ˆç”»ã—ã¦ãã ã•ã„ï¼š
          
          ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³æˆ¦ç•¥: $CAMPAIGN_STRATEGY
          ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚³ãƒ³ã‚»ãƒ—ãƒˆ: $CREATIVE_CONCEPTS
          åˆ©ç”¨å¯èƒ½ã‚µãƒ¼ãƒ“ã‚¹: $TEST_RESULTS
          
          ä»¥ä¸‹ã®å½¢å¼ã§JSONã§å›žç­”ã—ã¦ãã ã•ã„ï¼š
          {
            \"production_overview\": {
              \"total_assets_planned\": \"è¨ˆç”»ç´ æç·æ•°\",
              \"production_phases\": [\"åˆ¶ä½œãƒ•ã‚§ãƒ¼ã‚º\"],
              \"estimated_timeline\": \"æŽ¨å®šåˆ¶ä½œæ™‚é–“\",
              \"quality_tier\": \"å“è³ªãƒ†ã‚£ã‚¢ï¼ˆpremium|standard|rapidï¼‰\"
            },
            \"asset_specifications\": [
              {
                \"asset_id\": \"ç´ æID\",
                \"asset_name\": \"ç´ æå\",
                \"media_type\": \"image|video|audio|3d|mixed\",
                \"primary_use\": \"ä¸»è¦ç”¨é€”\",
                \"target_channels\": [\"å¯¾è±¡ãƒãƒ£ãƒãƒ«\"],
                \"priority_level\": \"high|medium|low\",
                \"production_service\": \"ä½¿ç”¨äºˆå®šã‚µãƒ¼ãƒ“ã‚¹ï¼ˆMCPã‚µãƒ¼ãƒ“ã‚¹åï¼‰\",
                \"technical_specs\": {
                  \"dimensions\": \"ã‚µã‚¤ã‚ºãƒ»è§£åƒåº¦\",
                  \"duration\": \"å°ºãƒ»æ™‚é–“\",
                  \"file_format\": \"ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼\",
                  \"quality_level\": \"å“è³ªãƒ¬ãƒ™ãƒ«\"
                },
                \"creative_requirements\": {
                  \"visual_style\": \"ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚¹ã‚¿ã‚¤ãƒ«\",
                  \"color_scheme\": \"ã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒ \",
                  \"messaging\": \"ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚°\",
                  \"mood_tone\": \"ãƒ ãƒ¼ãƒ‰ãƒ»ãƒˆãƒ¼ãƒ³\"
                },
                \"production_prompt\": \"ç”Ÿæˆç”¨è©³ç´°ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ\",
                \"quality_criteria\": [\"å“è³ªåˆ¤å®šåŸºæº–\"],
                \"fallback_options\": [\"ä»£æ›¿æ¡ˆ\"]
              }
            ],
            \"production_sequence\": {
              \"phase_1_assets\": [\"ç¬¬1ãƒ•ã‚§ãƒ¼ã‚ºåˆ¶ä½œç´ æID\"],
              \"phase_2_assets\": [\"ç¬¬2ãƒ•ã‚§ãƒ¼ã‚ºåˆ¶ä½œç´ æID\"],
              \"phase_3_assets\": [\"ç¬¬3ãƒ•ã‚§ãƒ¼ã‚ºåˆ¶ä½œç´ æID\"],
              \"dependencies\": [\"åˆ¶ä½œä¾å­˜é–¢ä¿‚\"],
              \"parallel_opportunities\": [\"ä¸¦è¡Œåˆ¶ä½œå¯èƒ½ç´ æ\"]
            },
            \"resource_allocation\": {
              \"service_usage_plan\": {
                \"image_generation\": \"ç”»åƒç”Ÿæˆã‚µãƒ¼ãƒ“ã‚¹ä½¿ç”¨è¨ˆç”»\",
                \"video_generation\": \"å‹•ç”»ç”Ÿæˆã‚µãƒ¼ãƒ“ã‚¹ä½¿ç”¨è¨ˆç”»\",
                \"audio_generation\": \"éŸ³å£°ç”Ÿæˆã‚µãƒ¼ãƒ“ã‚¹ä½¿ç”¨è¨ˆç”»\",
                \"3d_generation\": \"3Dç”Ÿæˆã‚µãƒ¼ãƒ“ã‚¹ä½¿ç”¨è¨ˆç”»\",
                \"enhancement_services\": \"å¼·åŒ–ã‚µãƒ¼ãƒ“ã‚¹ä½¿ç”¨è¨ˆç”»\"
              },
              \"estimated_processing_time\": \"æŽ¨å®šå‡¦ç†æ™‚é–“\",
              \"quality_assurance_plan\": \"å“è³ªä¿è¨¼è¨ˆç”»\"
            },
            \"success_metrics\": {
              \"production_kpis\": [\"åˆ¶ä½œKPI\"],
              \"quality_thresholds\": [\"å“è³ªé–¾å€¤\"],
              \"efficiency_targets\": [\"åŠ¹çŽ‡ç›®æ¨™\"]
            }
          }" > .logs/asset-planning/production-plan.json
          
          PRODUCTION_PLAN=$(cat .logs/asset-planning/production-plan.json)
          echo "PRODUCTION_PLAN_FILE=.logs/asset-planning/production-plan.json" >> $GITHUB_ENV
          
          # åˆ¶ä½œãƒ•ã‚§ãƒ¼ã‚ºæƒ…å ±ã‚’ç’°å¢ƒå¤‰æ•°ã«è¨­å®š
          TOTAL_ASSETS=$(echo "$PRODUCTION_PLAN" | jq -r '.production_overview.total_assets_planned')
          PHASE_1_COUNT=$(echo "$PRODUCTION_PLAN" | jq '.production_sequence.phase_1_assets | length')
          
          echo "TOTAL_PLANNED_ASSETS=$TOTAL_ASSETS" >> $GITHUB_ENV
          echo "PHASE_1_ASSET_COUNT=$PHASE_1_COUNT" >> $GITHUB_ENV
          
          echo "ðŸ“‹ Asset planning completed"
          echo "Total planned assets: $TOTAL_ASSETS"
          echo "Phase 1 assets: $PHASE_1_COUNT"

  # === ãƒžãƒ«ãƒãƒ¡ãƒ‡ã‚£ã‚¢åˆ¶ä½œæ®µéšŽ ===
  - id: "hero-image-creation"
    name: "ãƒ¡ã‚¤ãƒ³ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ»ãƒ’ãƒ¼ãƒ­ãƒ¼ç”»åƒåˆ¶ä½œ"
    phase: "multimedia_production"
    github_job: "hero-image-creation"
    type: "generation"
    implementation: "mcp"
    tool: "image-generation"
    duration_minutes: 8
    dependencies: ["asset-specification-planning"]
    parallel_group: "media_production_parallel"
    
    github_steps:
      - name: "Create hero images and main visuals"
        shell: "bash"
        script: |
          echo "ðŸ–¼ï¸ Creating hero images and main visuals..."
          
          mkdir -p .logs/multimedia-production/images
          
          PRODUCTION_PLAN=$(cat .logs/asset-planning/production-plan.json)
          CREATIVE_CONCEPTS=$(cat .logs/creative-concept/creative-concepts.json)
          
          # Phase 1 ç”»åƒç´ æã‚’æŠ½å‡ºãƒ»ç”Ÿæˆ
          PHASE_1_ASSETS=$(echo "$PRODUCTION_PLAN" | jq -r '.production_sequence.phase_1_assets[]')
          
          echo "Creating Phase 1 image assets..."
          
          for asset_id in $PHASE_1_ASSETS; do
            # è©²å½“ç´ æã®è©³ç´°æƒ…å ±ã‚’å–å¾—
            ASSET_INFO=$(echo "$PRODUCTION_PLAN" | jq ".asset_specifications[] | select(.asset_id == \"$asset_id\")")
            MEDIA_TYPE=$(echo "$ASSET_INFO" | jq -r '.media_type')
            
            if [ "$MEDIA_TYPE" = "image" ] || [ "$MEDIA_TYPE" = "mixed" ]; then
              ASSET_NAME=$(echo "$ASSET_INFO" | jq -r '.asset_name')
              PRODUCTION_PROMPT=$(echo "$ASSET_INFO" | jq -r '.production_prompt')
              QUALITY_LEVEL=$(echo "$ASSET_INFO" | jq -r '.technical_specs.quality_level')
              
              echo "Generating $ASSET_NAME (ID: $asset_id)..."
              
              # ã‚µãƒ¼ãƒ“ã‚¹é¸æŠžã¨ç”Ÿæˆå®Ÿè¡Œ
              if [ "$PRIMARY_IMAGE_SERVICE" = "ultra" ] && [ "$QUALITY_LEVEL" = "premium" ]; then
                echo "Using Ultra quality service for $asset_id..."
                if timeout 120 claude-code --mcp-config=~/.claude/mcp-kamuicode.json --mcp t2i-fal-imagen4-ultra --prompt "$PRODUCTION_PROMPT" > .logs/multimedia-production/images/${asset_id}.json 2>&1; then
                  echo "âœ… $asset_id generated with Ultra quality"
                  GENERATION_STATUS="success_ultra"
                else
                  echo "âš ï¸ Ultra generation failed for $asset_id, trying fast..."
                  if timeout 90 claude-code --mcp-config=~/.claude/mcp-kamuicode.json --mcp t2i-fal-imagen4-fast --prompt "$PRODUCTION_PROMPT" > .logs/multimedia-production/images/${asset_id}.json 2>&1; then
                    echo "âœ… $asset_id generated with Fast quality"
                    GENERATION_STATUS="success_fast"
                  else
                    echo "âŒ $asset_id generation failed"
                    GENERATION_STATUS="failed"
                  fi
                fi
              elif [ "$PRIMARY_IMAGE_SERVICE" = "fast" ] || [ "$PRIMARY_IMAGE_SERVICE" = "google" ]; then
                SERVICE_NAME=$([ "$PRIMARY_IMAGE_SERVICE" = "fast" ] && echo "t2i-fal-imagen4-fast" || echo "t2i-google-imagen3")
                echo "Using $SERVICE_NAME for $asset_id..."
                if timeout 90 claude-code --mcp-config=~/.claude/mcp-kamuicode.json --mcp $SERVICE_NAME --prompt "$PRODUCTION_PROMPT" > .logs/multimedia-production/images/${asset_id}.json 2>&1; then
                  echo "âœ… $asset_id generated successfully"
                  GENERATION_STATUS="success"
                else
                  echo "âŒ $asset_id generation failed"
                  GENERATION_STATUS="failed"
                fi
              else
                echo "âš ï¸ No suitable image generation service available for $asset_id"
                GENERATION_STATUS="service_unavailable"
              fi
              
              # ç”Ÿæˆçµæžœã®å“è³ªå‘ä¸Šï¼ˆå¯èƒ½ãªå ´åˆï¼‰
              if [ "$GENERATION_STATUS" != "failed" ] && [ "$GENERATION_STATUS" != "service_unavailable" ]; then
                IMAGE_FILE_PATH=$(jq -r '.image_url // .file_path // "none"' .logs/multimedia-production/images/${asset_id}.json 2>/dev/null)
                
                if [ "$IMAGE_FILE_PATH" != "none" ] && [ "$(echo "$TEST_RESULTS" | jq -r '.multimedia_services.enhancement_services.image_enhancement')" = "success" ]; then
                  echo "Enhancing quality for $asset_id..."
                  if timeout 90 claude-code --mcp-config=~/.claude/mcp-kamuicode.json --mcp i2i-fal-flux-kontext-max --image-path "$IMAGE_FILE_PATH" --enhancement "professional advertisement quality, sharp details, vibrant colors" > .logs/multimedia-production/images/${asset_id}-enhanced.json 2>&1; then
                    echo "âœ… $asset_id enhanced successfully"
                  fi
                fi
              fi
            fi
          done
          
          # ç”Ÿæˆçµæžœã®çµ±è¨ˆ
          GENERATED_COUNT=$(ls .logs/multimedia-production/images/*.json 2>/dev/null | wc -l)
          
          # ç”Ÿæˆãƒ­ã‚°ã®ä½œæˆ
          cat > .logs/multimedia-production/images/generation-log.json << EOF
          {
            "timestamp": "$(date -u +%Y-%m-%dT%H:%M:%SZ)",
            "image_generation_summary": {
              "total_requested": $PHASE_1_ASSET_COUNT,
              "successfully_generated": $GENERATED_COUNT,
              "primary_service_used": "$PRIMARY_IMAGE_SERVICE",
              "quality_enhancement_applied": $([ "$(echo "$TEST_RESULTS" | jq -r '.multimedia_services.enhancement_services.image_enhancement')" = "success" ] && echo "true" || echo "false")
            },
            "generated_assets": [$(ls .logs/multimedia-production/images/*.json 2>/dev/null | sed 's/.*/"&"/' | paste -sd,)]
          }
          EOF
          
          echo "IMAGE_GENERATION_STATUS=completed" >> $GITHUB_ENV
          echo "GENERATED_IMAGE_COUNT=$GENERATED_COUNT" >> $GITHUB_ENV
          
          echo "ðŸ–¼ï¸ Hero image creation completed: $GENERATED_COUNT images"

  - id: "video-content-production"
    name: "å‹•ç”»ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ»ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åˆ¶ä½œ"
    phase: "multimedia_production"
    github_job: "video-production"
    type: "generation"
    implementation: "mcp"
    tool: "video-generation"
    duration_minutes: 12
    dependencies: ["hero-image-creation"]
    parallel_group: "media_production_parallel"
    
    github_steps:
      - name: "Create video content and animations"
        shell: "bash"
        script: |
          echo "ðŸŽ¬ Creating video content and animations..."
          
          mkdir -p .logs/multimedia-production/videos
          
          PRODUCTION_PLAN=$(cat .logs/asset-planning/production-plan.json)
          IMAGE_GENERATION_LOG=$(cat .logs/multimedia-production/images/generation-log.json)
          
          # å‹•ç”»åˆ¶ä½œå¯¾è±¡ç´ æã‚’æŠ½å‡º
          echo "Identifying video assets for production..."
          
          VIDEO_ASSETS=$(echo "$PRODUCTION_PLAN" | jq -r '.asset_specifications[] | select(.media_type == "video" or .media_type == "mixed") | .asset_id')
          VIDEO_COUNT=$(echo "$VIDEO_ASSETS" | wc -w)
          
          echo "Found $VIDEO_COUNT video assets to produce"
          
          for asset_id in $VIDEO_ASSETS; do
            ASSET_INFO=$(echo "$PRODUCTION_PLAN" | jq ".asset_specifications[] | select(.asset_id == \"$asset_id\")")
            ASSET_NAME=$(echo "$ASSET_INFO" | jq -r '.asset_name')
            PRODUCTION_PROMPT=$(echo "$ASSET_INFO" | jq -r '.production_prompt')
            DURATION=$(echo "$ASSET_INFO" | jq -r '.technical_specs.duration // "15 seconds"')
            PRIORITY=$(echo "$ASSET_INFO" | jq -r '.priority_level')
            
            echo "Producing video: $ASSET_NAME (ID: $asset_id, Priority: $PRIORITY)..."
            
            # åˆ¶ä½œæ–¹æ³•ã®æ±ºå®š
            PRODUCTION_METHOD="none"
            
            if [ "$VIDEO_CAPABILITY" = "full" ]; then
              # T2V (Text-to-Video) ã§ç›´æŽ¥ç”Ÿæˆ
              echo "Using T2V for $asset_id..."
              ENHANCED_PROMPT="$PRODUCTION_PROMPT, professional advertisement video, high quality, engaging, $DURATION duration, smooth motion, commercial grade"
              
              if timeout 180 claude-code --mcp-config=~/.claude/mcp-kamuicode.json --mcp t2v-fal-veo3-fast --prompt "$ENHANCED_PROMPT" --duration "$DURATION" > .logs/multimedia-production/videos/${asset_id}.json 2>&1; then
                echo "âœ… $asset_id created with T2V"
                PRODUCTION_METHOD="t2v"
              else
                echo "âš ï¸ T2V failed for $asset_id, trying I2V..."
                PRODUCTION_METHOD="failed_t2v"
              fi
            fi
            
            # I2V (Image-to-Video) ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
            if [ "$PRODUCTION_METHOD" = "failed_t2v" ] || [ "$VIDEO_CAPABILITY" = "i2v_only" ]; then
              # å¯¾å¿œã™ã‚‹ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŽ¢ã™
              CORRESPONDING_IMAGE=$(ls .logs/multimedia-production/images/${asset_id}*.json 2>/dev/null | head -1)
              
              if [ -n "$CORRESPONDING_IMAGE" ]; then
                IMAGE_PATH=$(jq -r '.image_url // .file_path // "none"' "$CORRESPONDING_IMAGE" 2>/dev/null)
                
                if [ "$IMAGE_PATH" != "none" ]; then
                  echo "Using I2V for $asset_id with corresponding image..."
                  MOTION_DESCRIPTION="$PRODUCTION_PROMPT, cinematic motion, smooth transitions, professional advertisement style"
                  
                  if timeout 150 claude-code --mcp-config=~/.claude/mcp-kamuicode.json --mcp i2v-fal-hailuo-02-pro --image-path "$IMAGE_PATH" --motion-description "$MOTION_DESCRIPTION" > .logs/multimedia-production/videos/${asset_id}-i2v.json 2>&1; then
                    echo "âœ… $asset_id created with I2V"
                    PRODUCTION_METHOD="i2v"
                  else
                    echo "âŒ I2V failed for $asset_id"
                    PRODUCTION_METHOD="failed"
                  fi
                fi
              else
                echo "âš ï¸ No corresponding image found for I2V production of $asset_id"
                PRODUCTION_METHOD="no_image"
              fi
            fi
            
            # R2V (Reference-to-Video) è©¦è¡Œï¼ˆå¯èƒ½ãªå ´åˆï¼‰
            if [ "$PRODUCTION_METHOD" = "failed" ] && [ "$(echo "$TEST_RESULTS" | jq -r '.multimedia_services.video_generation.reference_to_video')" = "success" ]; then
              REFERENCE_IMAGE=$(ls .logs/multimedia-production/images/*.json 2>/dev/null | head -1)
              if [ -n "$REFERENCE_IMAGE" ]; then
                REFERENCE_PATH=$(jq -r '.image_url // .file_path // "none"' "$REFERENCE_IMAGE" 2>/dev/null)
                if [ "$REFERENCE_PATH" != "none" ]; then
                  echo "Trying R2V for $asset_id..."
                  if timeout 120 claude-code --mcp-config=~/.claude/mcp-kamuicode.json --mcp r2v-fal-vidu-q1 --reference-path "$REFERENCE_PATH" --description "$PRODUCTION_PROMPT" > .logs/multimedia-production/videos/${asset_id}-r2v.json 2>&1; then
                    echo "âœ… $asset_id created with R2V"
                    PRODUCTION_METHOD="r2v"
                  fi
                fi
              fi
            fi
            
            # å‹•ç”»å“è³ªå‘ä¸Šï¼ˆå¯èƒ½ãªå ´åˆï¼‰
            if [ "$PRODUCTION_METHOD" != "failed" ] && [ "$PRODUCTION_METHOD" != "none" ] && [ "$PRODUCTION_METHOD" != "no_image" ]; then
              VIDEO_FILE=$(ls .logs/multimedia-production/videos/${asset_id}*.json | head -1)
              VIDEO_PATH=$(jq -r '.video_url // .file_path // "none"' "$VIDEO_FILE" 2>/dev/null)
              
              if [ "$VIDEO_PATH" != "none" ] && [ "$(echo "$TEST_RESULTS" | jq -r '.multimedia_services.video_generation.video_editing')" = "success" ]; then
                echo "Enhancing video quality for $asset_id..."
                if timeout 120 claude-code --mcp-config=~/.claude/mcp-kamuicode.json --mcp v2v-fal-luma-ray2-modify --video-path "$VIDEO_PATH" --modification "enhance quality, improve sharpness, optimize colors, professional advertisement standard" > .logs/multimedia-production/videos/${asset_id}-enhanced.json 2>&1; then
                  echo "âœ… $asset_id video enhanced"
                fi
              fi
            fi
          done
          
          # åˆ¶ä½œçµæžœã®çµ±è¨ˆ
          PRODUCED_COUNT=$(ls .logs/multimedia-production/videos/*.json 2>/dev/null | wc -l)
          
          # å‹•ç”»åˆ¶ä½œãƒ­ã‚°
          cat > .logs/multimedia-production/videos/production-log.json << EOF
          {
            "timestamp": "$(date -u +%Y-%m-%dT%H:%M:%SZ)",
            "video_production_summary": {
              "total_video_assets_planned": $VIDEO_COUNT,
              "successfully_produced": $PRODUCED_COUNT,
              "video_capability_used": "$VIDEO_CAPABILITY",
              "primary_production_methods": ["t2v", "i2v", "r2v"],
              "quality_enhancement_applied": $([ "$(echo "$TEST_RESULTS" | jq -r '.multimedia_services.video_generation.video_editing')" = "success" ] && echo "true" || echo "false")
            },
            "produced_assets": [$(ls .logs/multimedia-production/videos/*.json 2>/dev/null | sed 's/.*/"&"/' | paste -sd,)]
          }
          EOF
          
          echo "VIDEO_PRODUCTION_STATUS=completed" >> $GITHUB_ENV
          echo "PRODUCED_VIDEO_COUNT=$PRODUCED_COUNT" >> $GITHUB_ENV
          
          echo "ðŸŽ¬ Video production completed: $PRODUCED_COUNT videos"

  - id: "audio-music-creation"
    name: "BGMãƒ»åŠ¹æžœéŸ³ãƒ»éŸ³å£°ç´ æåˆ¶ä½œ"
    phase: "multimedia_production"
    github_job: "audio-creation"
    type: "generation"
    implementation: "mcp"
    tool: "audio-generation"
    duration_minutes: 8
    dependencies: ["video-content-production"]
    parallel_group: "media_production_parallel"
    
    github_steps:
      - name: "Create background music and audio elements"
        shell: "bash"
        script: |
          echo "ðŸŽµ Creating background music and audio elements..."
          
          mkdir -p .logs/multimedia-production/audio
          
          PRODUCTION_PLAN=$(cat .logs/asset-planning/production-plan.json)
          VIDEO_PRODUCTION_LOG=$(cat .logs/multimedia-production/videos/production-log.json)
          CREATIVE_CONCEPTS=$(cat .logs/creative-concept/creative-concepts.json)
          
          # éŸ³å£°åˆ¶ä½œå¯¾è±¡ç´ æã‚’æŠ½å‡º
          AUDIO_ASSETS=$(echo "$PRODUCTION_PLAN" | jq -r '.asset_specifications[] | select(.media_type == "audio") | .asset_id')
          AUDIO_COUNT=$(echo "$AUDIO_ASSETS" | wc -w)
          
          echo "Found $AUDIO_COUNT dedicated audio assets"
          
          # 1. å°‚ç”¨éŸ³å£°ç´ æã®åˆ¶ä½œ
          if [ "$AUDIO_CAPABILITY" = "full" ] || [ "$AUDIO_CAPABILITY" = "music_only" ]; then
            for asset_id in $AUDIO_ASSETS; do
              ASSET_INFO=$(echo "$PRODUCTION_PLAN" | jq ".asset_specifications[] | select(.asset_id == \"$asset_id\")")
              ASSET_NAME=$(echo "$ASSET_INFO" | jq -r '.asset_name')
              PRODUCTION_PROMPT=$(echo "$ASSET_INFO" | jq -r '.production_prompt')
              DURATION=$(echo "$ASSET_INFO" | jq -r '.technical_specs.duration // "30 seconds"')
              
              echo "Creating audio: $ASSET_NAME (ID: $asset_id)..."
              
              # T2M (Text-to-Music) ã§éŸ³æ¥½ç”Ÿæˆ
              MUSIC_PROMPT="$PRODUCTION_PROMPT, professional advertisement music, ${DURATION} duration, high quality, suitable for commercial use"
              
              if timeout 120 claude-code --mcp-config=~/.claude/mcp-kamuicode.json --mcp t2m-google-lyria --prompt "$MUSIC_PROMPT" --duration "$DURATION" > .logs/multimedia-production/audio/${asset_id}.json 2>&1; then
                echo "âœ… $asset_id music created successfully"
              else
                echo "âŒ $asset_id music creation failed"
              fi
            done
          else
            echo "âš ï¸ Audio generation not available - skipping dedicated audio assets"
          fi
          
          # 2. å‹•ç”»ã‹ã‚‰ã®éŸ³å£°ç”Ÿæˆï¼ˆV2Aï¼‰
          if [ "$AUDIO_CAPABILITY" = "full" ]; then
            echo "Generating complementary audio from videos..."
            
            for video_file in .logs/multimedia-production/videos/*.json; do
              if [ -f "$video_file" ]; then
                VIDEO_ASSET_ID=$(basename "$video_file" .json | sed 's/-enhanced$//' | sed 's/-i2v$//' | sed 's/-r2v$//')
                VIDEO_PATH=$(jq -r '.video_url // .file_path // "none"' "$video_file" 2>/dev/null)
                
                if [ "$VIDEO_PATH" != "none" ]; then
                  echo "Generating complementary audio for video $VIDEO_ASSET_ID..."
                  
                  # V2A (Video-to-Audio) ã§åŠ¹æžœéŸ³ãƒ»ç’°å¢ƒéŸ³ç”Ÿæˆ
                  AUDIO_STYLE="natural sound effects and ambient audio matching the video content, professional advertisement quality"
                  
                  if timeout 90 claude-code --mcp-config=~/.claude/mcp-kamuicode.json --mcp v2a-fal-thinksound --video-path "$VIDEO_PATH" --audio-style "$AUDIO_STYLE" > .logs/multimedia-production/audio/${VIDEO_ASSET_ID}-v2a.json 2>&1; then
                    echo "âœ… Complementary audio generated for $VIDEO_ASSET_ID"
                  else
                    echo "âš ï¸ V2A failed for $VIDEO_ASSET_ID"
                  fi
                fi
              fi
            done
          fi
          
          # 3. ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³çµ±ä¸€BGMã®ç”Ÿæˆ
          echo "Creating campaign signature music..."
          CAMPAIGN_THEME=$(echo "$CREATIVE_CONCEPTS" | jq -r '.creative_theme.central_concept')
          BRAND_TONE=$(echo "$CREATIVE_CONCEPTS" | jq -r '.visual_identity.visual_style')
          
          if [ "$AUDIO_CAPABILITY" = "full" ] || [ "$AUDIO_CAPABILITY" = "music_only" ]; then
            SIGNATURE_MUSIC_PROMPT="campaign signature music, $CAMPAIGN_THEME theme, $BRAND_TONE style, 45 seconds, memorable melody, suitable for brand recognition, professional commercial quality"
            
            if timeout 150 claude-code --mcp-config=~/.claude/mcp-kamuicode.json --mcp t2m-google-lyria --prompt "$SIGNATURE_MUSIC_PROMPT" --duration "45" > .logs/multimedia-production/audio/campaign-signature-music.json 2>&1; then
              echo "âœ… Campaign signature music created"
            else
              echo "âš ï¸ Campaign signature music creation failed"
            fi
          fi
          
          # åˆ¶ä½œçµæžœã®çµ±è¨ˆ
          CREATED_AUDIO_COUNT=$(ls .logs/multimedia-production/audio/*.json 2>/dev/null | wc -l)
          
          # éŸ³å£°åˆ¶ä½œãƒ­ã‚°
          cat > .logs/multimedia-production/audio/creation-log.json << EOF
          {
            "timestamp": "$(date -u +%Y-%m-%dT%H:%M:%SZ)",
            "audio_creation_summary": {
              "dedicated_audio_assets": $AUDIO_COUNT,
              "total_audio_files_created": $CREATED_AUDIO_COUNT,
              "audio_capability": "$AUDIO_CAPABILITY",
              "creation_methods": {
                "text_to_music": $([ "$AUDIO_CAPABILITY" = "full" ] || [ "$AUDIO_CAPABILITY" = "music_only" ] && echo "true" || echo "false"),
                "video_to_audio": $([ "$AUDIO_CAPABILITY" = "full" ] && echo "true" || echo "false"),
                "signature_music": $([ -f ".logs/multimedia-production/audio/campaign-signature-music.json" ] && echo "true" || echo "false")
              }
            },
            "created_assets": [$(ls .logs/multimedia-production/audio/*.json 2>/dev/null | sed 's/.*/"&"/' | paste -sd,)]
          }
          EOF
          
          echo "AUDIO_CREATION_STATUS=completed" >> $GITHUB_ENV
          echo "CREATED_AUDIO_COUNT=$CREATED_AUDIO_COUNT" >> $GITHUB_ENV
          
          echo "ðŸŽµ Audio creation completed: $CREATED_AUDIO_COUNT audio files"

  - id: "3d-immersive-content-creation"
    name: "3Dãƒ»æ²¡å…¥åž‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ¶ä½œ"
    phase: "multimedia_production"
    github_job: "3d-content-creation"
    type: "generation"
    implementation: "mcp"
    tool: "3d-generation"
    duration_minutes: 10
    dependencies: ["hero-image-creation"]
    parallel_group: "media_production_parallel"  
    
    github_steps:
      - name: "Create 3D models and immersive content"
        shell: "bash"
        script: |
          echo "ðŸ§Š Creating 3D models and immersive content..."
          
          mkdir -p .logs/multimedia-production/3d
          
          PRODUCTION_PLAN=$(cat .logs/asset-planning/production-plan.json)
          IMAGE_GENERATION_LOG=$(cat .logs/multimedia-production/images/generation-log.json)
          
          # 3Dåˆ¶ä½œå¯¾è±¡ç´ æã‚’æŠ½å‡º
          THREED_ASSETS=$(echo "$PRODUCTION_PLAN" | jq -r '.asset_specifications[] | select(.media_type == "3d") | .asset_id')
          THREED_COUNT=$(echo "$THREED_ASSETS" | wc -w)
          
          echo "Found $THREED_COUNT dedicated 3D assets"
          
          if [ "$(echo "$TEST_RESULTS" | jq -r '.multimedia_services."3d_generation".model_creation')" = "success" ]; then
            echo "3D generation service available - proceeding with creation..."
            
            # å°‚ç”¨3Dç´ æã®åˆ¶ä½œ
            for asset_id in $THREED_ASSETS; do
              ASSET_INFO=$(echo "$PRODUCTION_PLAN" | jq ".asset_specifications[] | select(.asset_id == \"$asset_id\")")
              ASSET_NAME=$(echo "$ASSET_INFO" | jq -r '.asset_name')
              PRODUCTION_PROMPT=$(echo "$ASSET_INFO" | jq -r '.production_prompt')
              
              echo "Creating 3D asset: $ASSET_NAME (ID: $asset_id)..."
              
              # å¯¾å¿œã™ã‚‹2Dç”»åƒã‚’æŽ¢ã—ã¦3DåŒ–
              CORRESPONDING_IMAGE=$(ls .logs/multimedia-production/images/${asset_id}*.json 2>/dev/null | head -1)
              
              if [ -n "$CORRESPONDING_IMAGE" ]; then
                IMAGE_PATH=$(jq -r '.image_url // .file_path // "none"' "$CORRESPONDING_IMAGE" 2>/dev/null)
                
                if [ "$IMAGE_PATH" != "none" ]; then
                  echo "Converting 2D image to 3D for $asset_id..."
                  
                  if timeout 180 claude-code --mcp-config=~/.claude/mcp-kamuicode.json --mcp i2i3d-fal-hunyuan3d-v21 --image-path "$IMAGE_PATH" > .logs/multimedia-production/3d/${asset_id}.json 2>&1; then
                    echo "âœ… $asset_id 3D model created successfully"
                  else
                    echo "âŒ $asset_id 3D conversion failed"
                  fi
                else
                  echo "âš ï¸ No valid image path found for $asset_id"
                fi
              else
                echo "âš ï¸ No corresponding 2D image found for $asset_id"
              fi
            done
            
            # ä¸»è¦ç”»åƒç´ æã®3DåŒ–ï¼ˆè¿½åŠ ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆï¼‰
            echo "Creating 3D variations of hero images..."
            
            for image_file in .logs/multimedia-production/images/*.json; do
              if [ -f "$image_file" ]; then
                IMAGE_ASSET_ID=$(basename "$image_file" .json | sed 's/-enhanced$//')
                IMAGE_PATH=$(jq -r '.image_url // .file_path // "none"' "$image_file" 2>/dev/null)
                
                # é‡è¤‡ãƒã‚§ãƒƒã‚¯ï¼ˆæ—¢ã«å°‚ç”¨3Dç´ æã¨ã—ã¦å‡¦ç†æ¸ˆã¿ã§ãªã„ã‹ï¼‰
                if ! echo "$THREED_ASSETS" | grep -q "$IMAGE_ASSET_ID"; then
                  if [ "$IMAGE_PATH" != "none" ]; then
                    echo "Creating 3D variation for image $IMAGE_ASSET_ID..."
                    
                    if timeout 150 claude-code --mcp-config=~/.claude/mcp-kamuicode.json --mcp i2i3d-fal-hunyuan3d-v21 --image-path "$IMAGE_PATH" > .logs/multimedia-production/3d/${IMAGE_ASSET_ID}-3d-variation.json 2>&1; then
                      echo "âœ… 3D variation created for $IMAGE_ASSET_ID"
                    else
                      echo "âš ï¸ 3D variation creation failed for $IMAGE_ASSET_ID"
                    fi
                  fi
                fi
              fi
            done
            
          else
            echo "âš ï¸ 3D generation service not available - skipping 3D content creation"
            
            # ä»£æ›¿æ¡ˆã®æç¤º
            cat > .logs/multimedia-production/3d/3d-alternatives.json << EOF
            {
              "timestamp": "$(date -u +%Y-%m-%dT%H:%M:%SZ)",
              "3d_service_status": "unavailable",
              "alternative_approaches": [
                "Use 2D images with parallax effects for pseudo-3D",
                "Apply depth-of-field effects to existing images", 
                "Create layered compositions for dimensionality",
                "Use external 3D rendering services",
                "Focus on enhanced 2D visuals with motion graphics"
              ],
              "recommended_next_steps": [
                "Enhance existing 2D assets with depth effects",
                "Create multiple angle variations manually",
                "Consider external 3D service integration"
              ]
            }
            EOF
          fi
          
          # åˆ¶ä½œçµæžœã®çµ±è¨ˆ
          CREATED_3D_COUNT=$(ls .logs/multimedia-production/3d/*.json 2>/dev/null | wc -l)
          
          # 3Dåˆ¶ä½œãƒ­ã‚°
          cat > .logs/multimedia-production/3d/creation-log.json << EOF
          {
            "timestamp": "$(date -u +%Y-%m-%dT%H:%M:%SZ)",
            "3d_creation_summary": {
              "dedicated_3d_assets_planned": $THREED_COUNT,
              "total_3d_files_created": $CREATED_3D_COUNT,
              "3d_service_available": $([ "$(echo "$TEST_RESULTS" | jq -r '.multimedia_services."3d_generation".model_creation')" = "success" ] && echo "true" || echo "false"),
              "creation_method": "image_to_3d_conversion",
              "additional_variations_created": $([ $CREATED_3D_COUNT -gt $THREED_COUNT ] && echo "true" || echo "false")
            },
            "created_assets": [$(ls .logs/multimedia-production/3d/*.json 2>/dev/null | sed 's/.*/"&"/' | paste -sd,)]
          }
          EOF
          
          echo "THREED_CREATION_STATUS=completed" >> $GITHUB_ENV
          echo "CREATED_3D_COUNT=$CREATED_3D_COUNT" >> $GITHUB_ENV
          
          echo "ðŸ§Š 3D content creation completed: $CREATED_3D_COUNT assets"

  # === çµ±åˆæœ€é©åŒ–æ®µéšŽ ===
  - id: "cross-media-optimization"
    name: "ã‚¯ãƒ­ã‚¹ãƒ¡ãƒ‡ã‚£ã‚¢æœ€é©åŒ–ãƒ»ä¸€è²«æ€§ç¢ºä¿"
    phase: "integration_optimization"
    github_job: "cross-media-optimization"
    type: "optimization"
    implementation: "ai"
    duration_minutes: 8
    dependencies: ["audio-music-creation", "3d-immersive-content-creation"]
    parallel_group: null
    
    github_steps:
      - name: "Optimize cross-media consistency and performance"
        shell: "bash"
        script: |
          echo "ðŸ”„ Optimizing cross-media consistency and performance..."
          
          mkdir -p .logs/integration-optimization
          
          # å…¨åˆ¶ä½œãƒ­ã‚°ã‚’åŽé›†
          IMAGE_LOG=$(cat .logs/multimedia-production/images/generation-log.json 2>/dev/null || echo '{}')
          VIDEO_LOG=$(cat .logs/multimedia-production/videos/production-log.json 2>/dev/null || echo '{}')  
          AUDIO_LOG=$(cat .logs/multimedia-production/audio/creation-log.json 2>/dev/null || echo '{}')
          THREED_LOG=$(cat .logs/multimedia-production/3d/creation-log.json 2>/dev/null || echo '{}')
          
          CAMPAIGN_STRATEGY=$(cat .logs/campaign-strategy/campaign-strategy.json)
          CREATIVE_CONCEPTS=$(cat .logs/creative-concept/creative-concepts.json)
          PRODUCTION_PLAN=$(cat .logs/asset-planning/production-plan.json)
          
          # ã‚¯ãƒ­ã‚¹ãƒ¡ãƒ‡ã‚£ã‚¢æœ€é©åŒ–åˆ†æž
          claude-code --prompt "ä»¥ä¸‹ã®åˆ¶ä½œçµæžœã‚’åŸºã«ã€ãƒžãƒ«ãƒãƒ¡ãƒ‡ã‚£ã‚¢åºƒå‘Šã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã®ã‚¯ãƒ­ã‚¹ãƒ¡ãƒ‡ã‚£ã‚¢æœ€é©åŒ–ã‚’å®Ÿæ–½ã—ã¦ãã ã•ã„ï¼š
          
          ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³æˆ¦ç•¥: $CAMPAIGN_STRATEGY
          ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚³ãƒ³ã‚»ãƒ—ãƒˆ: $CREATIVE_CONCEPTS
          åˆ¶ä½œè¨ˆç”»: $PRODUCTION_PLAN
          
          åˆ¶ä½œå®Ÿç¸¾:
          - ç”»åƒåˆ¶ä½œ: $IMAGE_LOG
          - å‹•ç”»åˆ¶ä½œ: $VIDEO_LOG
          - éŸ³å£°åˆ¶ä½œ: $AUDIO_LOG
          - 3Dåˆ¶ä½œ: $THREED_LOG
          
          ä»¥ä¸‹ã®å½¢å¼ã§JSONã§å›žç­”ã—ã¦ãã ã•ã„ï¼š
          {
            \"optimization_analysis\": {
              \"cross_media_consistency\": {
                \"visual_consistency_score\": \"1-10ç‚¹\",
                \"brand_alignment_score\": \"1-10ç‚¹\",
                \"message_coherence_score\": \"1-10ç‚¹\",
                \"style_uniformity_score\": \"1-10ç‚¹\"
              },
              \"technical_quality\": {
                \"resolution_consistency\": \"1-10ç‚¹\",
                \"color_accuracy\": \"1-10ç‚¹\",
                \"audio_quality\": \"1-10ç‚¹\",
                \"format_compatibility\": \"1-10ç‚¹\"
              },
              \"user_experience\": {
                \"engagement_potential\": \"1-10ç‚¹\",
                \"accessibility_score\": \"1-10ç‚¹\",
                \"loading_performance\": \"1-10ç‚¹\",
                \"mobile_optimization\": \"1-10ç‚¹\"
              }
            },
            \"identified_issues\": [
              {
                \"issue_category\": \"visual|audio|technical|branding\",
                \"severity\": \"critical|high|medium|low\",
                \"description\": \"å•é¡Œã®è©³ç´°èª¬æ˜Ž\",
                \"affected_assets\": [\"å½±éŸ¿ã‚’å—ã‘ã‚‹ç´ æID\"],
                \"impact_assessment\": \"ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã¸ã®å½±éŸ¿è©•ä¾¡\",
                \"recommended_fix\": \"æŽ¨å¥¨ä¿®æ­£æ–¹æ³•\"
              }
            ],
            \"optimization_recommendations\": [
              {
                \"optimization_type\": \"color_correction|size_optimization|format_conversion|quality_enhancement\",
                \"target_assets\": [\"å¯¾è±¡ç´ æID\"],
                \"optimization_goal\": \"æœ€é©åŒ–ã®ç›®æ¨™\",
                \"implementation_method\": \"å®Ÿè£…æ–¹æ³•\",
                \"expected_improvement\": \"æœŸå¾…ã•ã‚Œã‚‹æ”¹å–„åŠ¹æžœ\",
                \"priority_level\": \"high|medium|low\"
              }
            ],
            \"channel_specific_adaptations\": {
              \"social_media\": {
                \"format_requirements\": [\"SNSå‘ã‘ãƒ•ã‚©ãƒ¼ãƒžãƒƒãƒˆè¦ä»¶\"],
                \"sizing_adaptations\": [\"ã‚µã‚¤ã‚ºèª¿æ•´è¦ä»¶\"],
                \"engagement_optimizations\": [\"ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆæœ€é©åŒ–\"]
              },
              \"web_advertising\": {
                \"banner_variations\": [\"ãƒãƒŠãƒ¼åºƒå‘Šãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³\"],
                \"loading_optimizations\": [\"èª­ã¿è¾¼ã¿æœ€é©åŒ–\"],
                \"responsive_design\": [\"ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ\"]
              },
              \"video_platforms\": {
                \"aspect_ratio_variants\": [\"ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³\"],
                \"duration_adaptations\": [\"å°ºèª¿æ•´\"],
                \"platform_specific_features\": [\"ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å›ºæœ‰æ©Ÿèƒ½\"]
              }
            },
            \"integration_strategy\": {
              \"content_hierarchy\": \"ã‚³ãƒ³ãƒ†ãƒ³ãƒ„éšŽå±¤ã®æœ€é©åŒ–\",
              \"cross_promotion\": \"ã‚¯ãƒ­ã‚¹ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³æˆ¦ç•¥\",
              \"synergy_maximization\": \"ç›¸ä¹—åŠ¹æžœæœ€å¤§åŒ–æ–¹æ³•\",
              \"measurement_framework\": \"åŠ¹æžœæ¸¬å®šãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯\"
            },
            \"quality_assurance\": {
              \"final_checklist\": [\"æœ€çµ‚å“è³ªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ\"],
              \"compliance_verification\": [\"ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ç¢ºèªé …ç›®\"],
              \"performance_benchmarks\": [\"ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹åŸºæº–\"],
              \"approval_workflow\": \"æ‰¿èªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\"
            }
          }" > .logs/integration-optimization/optimization-analysis.json
          
          OPTIMIZATION_ANALYSIS=$(cat .logs/integration-optimization/optimization-analysis.json)
          
          # æœ€é©åŒ–å®Ÿè¡Œã®å„ªå…ˆåº¦æ±ºå®š
          CRITICAL_ISSUES=$(echo "$OPTIMIZATION_ANALYSIS" | jq '[.identified_issues[] | select(.severity == "critical")] | length')
          HIGH_PRIORITY_OPT=$(echo "$OPTIMIZATION_ANALYSIS" | jq '[.optimization_recommendations[] | select(.priority_level == "high")] | length')
          
          echo "CRITICAL_ISSUES_COUNT=$CRITICAL_ISSUES" >> $GITHUB_ENV
          echo "HIGH_PRIORITY_OPTIMIZATIONS=$HIGH_PRIORITY_OPT" >> $GITHUB_ENV
          echo "OPTIMIZATION_ANALYSIS_FILE=.logs/integration-optimization/optimization-analysis.json" >> $GITHUB_ENV
          
          # ãƒãƒ£ãƒãƒ«åˆ¥é©å¿œç‰ˆã®ç”Ÿæˆè¨ˆç”»
          claude-code --prompt "ä»¥ä¸‹ã®æœ€é©åŒ–åˆ†æžçµæžœã«åŸºã¥ã„ã¦ã€å„é…ä¿¡ãƒãƒ£ãƒãƒ«å‘ã‘ã®é©å¿œç‰ˆåˆ¶ä½œè¨ˆç”»ã‚’ä½œæˆã—ã¦ãã ã•ã„ï¼š
          
          æœ€é©åŒ–åˆ†æž: $OPTIMIZATION_ANALYSIS
          
          ä»¥ä¸‹ã®å½¢å¼ã§JSONã§å›žç­”ã—ã¦ãã ã•ã„ï¼š
          {
            \"adaptation_plan\": {
              \"total_variants_needed\": \"å¿…è¦ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ç·æ•°\",
              \"priority_channels\": [\"å„ªå…ˆãƒãƒ£ãƒãƒ«\"],
              \"adaptation_complexity\": \"low|medium|high\"
            },
            \"channel_variants\": [
              {
                \"channel_name\": \"ãƒãƒ£ãƒãƒ«å\",
                \"required_formats\": [\"å¿…è¦ãƒ•ã‚©ãƒ¼ãƒžãƒƒãƒˆ\"],
                \"adaptation_tasks\": [\"é©å¿œã‚¿ã‚¹ã‚¯\"],
                \"estimated_effort\": \"æŽ¨å®šä½œæ¥­é‡\",
                \"technical_requirements\": [\"æŠ€è¡“è¦ä»¶\"]
              }
            ],
            \"automation_opportunities\": [
              {
                \"task_type\": \"è‡ªå‹•åŒ–å¯èƒ½ã‚¿ã‚¹ã‚¯\",
                \"automation_method\": \"è‡ªå‹•åŒ–æ–¹æ³•\",
                \"efficiency_gain\": \"åŠ¹çŽ‡å‘ä¸Šåº¦\"
              }
            ],
            \"manual_review_points\": [\"æ‰‹å‹•ç¢ºèªãŒå¿…è¦ãªãƒã‚¤ãƒ³ãƒˆ\"],
            \"delivery_timeline\": \"é…ä¿¡ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«\"
          }" > .logs/integration-optimization/adaptation-plan.json
          
          ADAPTATION_PLAN=$(cat .logs/integration-optimization/adaptation-plan.json)
          echo "ADAPTATION_PLAN_FILE=.logs/integration-optimization/adaptation-plan.json" >> $GITHUB_ENV
          
          echo "ðŸ”„ Cross-media optimization completed"
          echo "Critical issues identified: $CRITICAL_ISSUES"
          echo "High priority optimizations: $HIGH_PRIORITY_OPT"

  # === ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³å®Œæˆæ®µéšŽ ===
  - id: "campaign-quality-assurance"
    name: "ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³å“è³ªä¿è¨¼ãƒ»æœ€çµ‚æ¤œè¨¼"
    phase: "campaign_finalization"
    github_job: "quality-assurance"
    type: "validation"
    implementation: "ai"
    duration_minutes: 6
    dependencies: ["cross-media-optimization"]
    parallel_group: null
    
    github_steps:
      - name: "Comprehensive quality assurance and final validation"
        shell: "bash"
        script: |
          echo "ðŸ” Conducting comprehensive quality assurance..."
          
          mkdir -p .logs/campaign-finalization
          
          # å…¨åˆ¶ä½œæˆæžœç‰©ã®çµ±è¨ˆ
          TOTAL_IMAGES=$(ls .logs/multimedia-production/images/*.json 2>/dev/null | wc -l)
          TOTAL_VIDEOS=$(ls .logs/multimedia-production/videos/*.json 2>/dev/null | wc -l)
          TOTAL_AUDIO=$(ls .logs/multimedia-production/audio/*.json 2>/dev/null | wc -l)
          TOTAL_3D=$(ls .logs/multimedia-production/3d/*.json 2>/dev/null | wc -l)
          TOTAL_ASSETS=$((TOTAL_IMAGES + TOTAL_VIDEOS + TOTAL_AUDIO + TOTAL_3D))
          
          # å…¨ãƒ‡ãƒ¼ã‚¿ã®çµ±åˆ
          CAMPAIGN_STRATEGY=$(cat .logs/campaign-strategy/campaign-strategy.json)
          CREATIVE_CONCEPTS=$(cat .logs/creative-concept/creative-concepts.json)
          PRODUCTION_PLAN=$(cat .logs/asset-planning/production-plan.json)
          OPTIMIZATION_ANALYSIS=$(cat .logs/integration-optimization/optimization-analysis.json)
          
          # åŒ…æ‹¬çš„å“è³ªä¿è¨¼åˆ†æž
          claude-code --prompt "ä»¥ä¸‹ã®æƒ…å ±ã‚’åŸºã«ã€ãƒžãƒ«ãƒãƒ¡ãƒ‡ã‚£ã‚¢åºƒå‘Šã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã®åŒ…æ‹¬çš„ãªå“è³ªä¿è¨¼è©•ä¾¡ã‚’å®Ÿæ–½ã—ã¦ãã ã•ã„ï¼š
          
          ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³æˆ¦ç•¥: $CAMPAIGN_STRATEGY
          ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚³ãƒ³ã‚»ãƒ—ãƒˆ: $CREATIVE_CONCEPTS
          åˆ¶ä½œè¨ˆç”»: $PRODUCTION_PLAN
          æœ€é©åŒ–åˆ†æž: $OPTIMIZATION_ANALYSIS
          
          åˆ¶ä½œå®Ÿç¸¾çµ±è¨ˆ:
          - ç”»åƒç´ æ: $TOTAL_IMAGES ä»¶
          - å‹•ç”»ç´ æ: $TOTAL_VIDEOS ä»¶
          - éŸ³å£°ç´ æ: $TOTAL_AUDIO ä»¶
          - 3Dç´ æ: $TOTAL_3D ä»¶
          - ç·ç´ ææ•°: $TOTAL_ASSETS ä»¶
          
          ä»¥ä¸‹ã®å½¢å¼ã§JSONã§å›žç­”ã—ã¦ãã ã•ã„ï¼š
          {
            \"overall_assessment\": {
              \"campaign_readiness_score\": \"1-100ç‚¹ã§ã®ç·åˆè©•ä¾¡\",
              \"strategic_alignment\": \"1-10ç‚¹ã§ã®æˆ¦ç•¥æ•´åˆæ€§\",
              \"creative_excellence\": \"1-10ç‚¹ã§ã®ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–å“è³ª\",
              \"technical_quality\": \"1-10ç‚¹ã§ã®æŠ€è¡“å“è³ª\",
              \"brand_consistency\": \"1-10ç‚¹ã§ã®ãƒ–ãƒ©ãƒ³ãƒ‰ä¸€è²«æ€§\",
              \"market_competitiveness\": \"1-10ç‚¹ã§ã®å¸‚å ´ç«¶äº‰åŠ›\"
            },
            \"quality_metrics\": {
              \"content_completeness\": \"$TOTAL_ASSETS/$TOTAL_PLANNED_ASSETS é”æˆçŽ‡\",
              \"production_efficiency\": \"åˆ¶ä½œåŠ¹çŽ‡è©•ä¾¡\",
              \"innovation_level\": \"é©æ–°æ€§ãƒ¬ãƒ™ãƒ«è©•ä¾¡\",
              \"scalability_potential\": \"æ‹¡å¼µå¯èƒ½æ€§è©•ä¾¡\"
            },
            \"compliance_check\": {
              \"brand_guidelines\": \"ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³æº–æ‹ \",
              \"technical_standards\": \"æŠ€è¡“åŸºæº–é©åˆ\",
              \"accessibility_compliance\": \"ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œ\",
              \"platform_requirements\": \"ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ è¦ä»¶é©åˆ\",
              \"legal_compliance\": \"æ³•çš„ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹\"
            },
            \"risk_assessment\": {
              \"high_risk_factors\": [\"é«˜ãƒªã‚¹ã‚¯è¦å› \"],
              \"medium_risk_factors\": [\"ä¸­ãƒªã‚¹ã‚¯è¦å› \"],
              \"mitigation_strategies\": [\"ãƒªã‚¹ã‚¯è»½æ¸›ç­–\"],
              \"contingency_plans\": [\"ç·Šæ€¥æ™‚å¯¾å¿œè¨ˆç”»\"]
            },
            \"performance_predictions\": {
              \"expected_engagement_rate\": \"äºˆæƒ³ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆçŽ‡\",
              \"conversion_potential\": \"ã‚³ãƒ³ãƒãƒ¼ã‚¸ãƒ§ãƒ³å¯èƒ½æ€§\",
              \"viral_potential\": \"ãƒã‚¤ãƒ©ãƒ«å¯èƒ½æ€§\",
              \"brand_impact_score\": \"ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆäºˆæ¸¬\"
            },
            \"launch_readiness\": {
              \"immediate_launch\": \"å³åº§å®Ÿè¡Œå¯èƒ½ç´ æ\",
              \"minor_adjustments_needed\": \"å¾®èª¿æ•´å¿…è¦ç´ æ\",
              \"major_revisions_required\": \"å¤§å¹…ä¿®æ­£å¿…è¦ç´ æ\",
              \"overall_launch_status\": \"ready|almost_ready|needs_work\"
            },
            \"success_optimization\": {
              \"high_impact_improvements\": [\"é«˜ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆæ”¹å–„æ¡ˆ\"],
              \"quick_wins\": [\"å³åŠ¹æ€§æ”¹å–„æ¡ˆ\"],
              \"long_term_enhancements\": [\"é•·æœŸçš„å¼·åŒ–æ¡ˆ\"],
              \"competitive_advantages\": [\"ç«¶åˆå„ªä½è¦ç´ \"]
            },
            \"measurement_framework\": {
              \"primary_kpis\": [\"ä¸»è¦KPIè¨­å®š\"],
              \"tracking_implementation\": \"ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°å®Ÿè£…æ–¹é‡\",
              \"reporting_schedule\": \"ãƒ¬ãƒãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«\",
              \"optimization_triggers\": [\"æœ€é©åŒ–å®Ÿè¡Œãƒˆãƒªã‚¬ãƒ¼\"]
            }
          }" > .logs/campaign-finalization/quality-assurance-report.json
          
          QA_REPORT=$(cat .logs/campaign-finalization/quality-assurance-report.json)
          CAMPAIGN_READINESS=$(echo "$QA_REPORT" | jq -r '.overall_assessment.campaign_readiness_score')
          LAUNCH_STATUS=$(echo "$QA_REPORT" | jq -r '.launch_readiness.overall_launch_status')
          
          echo "CAMPAIGN_READINESS_SCORE=$CAMPAIGN_READINESS" >> $GITHUB_ENV
          echo "LAUNCH_STATUS=$LAUNCH_STATUS" >> $GITHUB_ENV
          echo "QA_REPORT_FILE=.logs/campaign-finalization/quality-assurance-report.json" >> $GITHUB_ENV
          
          echo "ðŸ” Quality assurance completed"
          echo "Campaign readiness score: $CAMPAIGN_READINESS/100"
          echo "Launch status: $LAUNCH_STATUS"

  - id: "final-campaign-packaging"
    name: "æœ€çµ‚ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ»é…ä¿¡æº–å‚™"
    phase: "campaign_finalization"
    github_job: "final-packaging"
    type: "packaging"
    implementation: "script"
    duration_minutes: 5
    dependencies: ["campaign-quality-assurance"]
    parallel_group: null
    
    github_steps:
      - name: "Create comprehensive campaign delivery package"
        shell: "bash"
        script: |
          echo "ðŸ“¦ Creating comprehensive campaign delivery package..."
          
          mkdir -p .final-output/{strategy,creative,assets,optimization}
          
          # æˆ¦ç•¥ãƒ»ä¼ç”»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
          cp .logs/campaign-strategy/campaign-strategy.json .final-output/strategy/ 2>/dev/null || true
          cp .logs/creative-concept/creative-concepts.json .final-output/creative/ 2>/dev/null || true
          cp .logs/asset-planning/production-plan.json .final-output/strategy/ 2>/dev/null || true
          
          # åˆ¶ä½œç´ æ
          mkdir -p .final-output/assets/{images,videos,audio,3d}
          cp .logs/multimedia-production/images/*.json .final-output/assets/images/ 2>/dev/null || true
          cp .logs/multimedia-production/videos/*.json .final-output/assets/videos/ 2>/dev/null || true
          cp .logs/multimedia-production/audio/*.json .final-output/assets/audio/ 2>/dev/null || true  
          cp .logs/multimedia-production/3d/*.json .final-output/assets/3d/ 2>/dev/null || true
          
          # æœ€é©åŒ–ãƒ»å“è³ªä¿è¨¼è³‡æ–™
          cp .logs/integration-optimization/*.json .final-output/optimization/ 2>/dev/null || true
          cp .logs/campaign-finalization/*.json .final-output/optimization/ 2>/dev/null || true
          
          # ãƒžã‚¹ã‚¿ãƒ¼ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³æƒ…å ±ã®ä½œæˆ
          cat > .final-output/campaign-master-package.json << EOF
          {
            "project_info": {
              "project_name": "Multimedia Ad Campaign Creation",
              "created_at": "$(date -u +%Y-%m-%dT%H:%M:%SZ)",
              "github_run_id": "${{ github.run_id }}",
              "campaign_type": "integrated_multimedia_campaign",
              "total_production_time": "60 minutes"
            },
            "campaign_overview": {
              "campaign_readiness_score": "$CAMPAIGN_READINESS_SCORE/100",
              "launch_status": "$LAUNCH_STATUS",
              "total_assets_created": $TOTAL_ASSETS,
              "multimedia_capabilities": {
                "image_generation": $([ "$GENERATED_IMAGE_COUNT" -gt 0 ] && echo "true" || echo "false"),
                "video_production": $([ "$PRODUCED_VIDEO_COUNT" -gt 0 ] && echo "true" || echo "false"),
                "audio_creation": $([ "$CREATED_AUDIO_COUNT" -gt 0 ] && echo "true" || echo "false"),
                "3d_modeling": $([ "$CREATED_3D_COUNT" -gt 0 ] && echo "true" || echo "false")
              }
            },
            "deliverables": {
              "strategy_documents": {
                "campaign_strategy": "strategy/campaign-strategy.json",
                "production_plan": "strategy/production-plan.json"
              },
              "creative_assets": {
                "creative_concepts": "creative/creative-concepts.json",
                "image_assets": "assets/images/",
                "video_assets": "assets/videos/",
                "audio_assets": "assets/audio/",
                "3d_assets": "assets/3d/"
              },
              "optimization_reports": {
                "cross_media_optimization": "optimization/optimization-analysis.json",
                "adaptation_plan": "optimization/adaptation-plan.json",
                "quality_assurance": "optimization/quality-assurance-report.json"
              }
            },
            "asset_inventory": {
              "images_created": $TOTAL_IMAGES,
              "videos_produced": $TOTAL_VIDEOS,
              "audio_files_generated": $TOTAL_AUDIO,
              "3d_models_created": $TOTAL_3D,
              "total_multimedia_assets": $TOTAL_ASSETS
            },
            "technical_capabilities": {
              "basic_multimedia_capability": "$BASIC_CAPABILITY",
              "advanced_multimedia_capability": "$ADVANCED_CAPABILITY",
              "primary_image_service": "$PRIMARY_IMAGE_SERVICE",
              "video_capability": "$VIDEO_CAPABILITY",
              "audio_capability": "$AUDIO_CAPABILITY"
            },
            "campaign_execution": {
              "immediate_deployment_ready": $([ "$LAUNCH_STATUS" = "ready" ] && echo "true" || echo "false"),
              "critical_issues_count": "$CRITICAL_ISSUES_COUNT",
              "high_priority_optimizations": "$HIGH_PRIORITY_OPTIMIZATIONS",
              "recommended_next_steps": [
                "Review quality assurance report",
                "Implement high-priority optimizations",
                "Conduct stakeholder approval process",
                "Execute channel-specific adaptations",
                "Launch measurement framework"
              ]
            },
            "usage_guidelines": {
              "asset_modification": "Assets can be modified using source JSON specifications",
              "brand_compliance": "Ensure all modifications maintain brand consistency",
              "platform_adaptation": "Use adaptation plan for channel-specific versions",
              "quality_maintenance": "Follow QA checklist for any changes",
              "performance_monitoring": "Implement measurement framework for optimization"
            },
            "support_resources": {
              "troubleshooting": "Check logs/ directory for detailed generation information",
              "asset_regeneration": "Use production-plan.json specifications to recreate assets",
              "optimization_guidance": "Follow optimization-analysis.json recommendations",
              "compliance_verification": "Use quality-assurance-report.json compliance checklist"
            }
          }
          EOF
          
          # ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³å®Ÿè¡Œã‚¬ã‚¤ãƒ‰ã®ä½œæˆ
          cat > .final-output/CAMPAIGN_EXECUTION_GUIDE.md << 'EOF'
          # ãƒžãƒ«ãƒãƒ¡ãƒ‡ã‚£ã‚¢åºƒå‘Šã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³å®Ÿè¡Œã‚¬ã‚¤ãƒ‰
          
          ## ðŸ“Š ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³æ¦‚è¦
          - ç·åˆ¶ä½œç´ ææ•°: çµ±åˆçš„ãªãƒžãƒ«ãƒãƒ¡ãƒ‡ã‚£ã‚¢ç´ æ
          - å“è³ªè©•ä¾¡ã‚¹ã‚³ã‚¢: ç·åˆå“è³ªè©•ä¾¡
          - é…ä¿¡æº–å‚™çŠ¶æ³: å®Ÿè¡Œå¯èƒ½æ€§ãƒ¬ãƒ™ãƒ«
          
          ## ðŸš€ å®Ÿè¡Œå‰ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
          - [ ] å…¨ç´ æã®å“è³ªç¢ºèª
          - [ ] ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³é©åˆæ€§ç¢ºèª
          - [ ] å„ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ä»•æ§˜é©åˆç¢ºèª
          - [ ] æ³•çš„ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ç¢ºèª
          - [ ] æ¸¬å®šãƒ»ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°è¨­å®š
          
          ## ðŸŽ¯ é…ä¿¡æˆ¦ç•¥
          - ãƒãƒ£ãƒãƒ«åˆ¥æœ€é©åŒ–ã®å®Ÿæ–½
          - ã‚¯ãƒ­ã‚¹ãƒ¡ãƒ‡ã‚£ã‚¢ç›¸ä¹—åŠ¹æžœã®æ´»ç”¨
          - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ç›£è¦–ä½“åˆ¶ã®æ§‹ç¯‰
          - ç¶™ç¶šçš„æœ€é©åŒ–ãƒ—ãƒ­ã‚»ã‚¹ã®å®Ÿè£…
          
          ## ðŸ“ˆ æˆæžœæ¸¬å®š
          - KPIè¨­å®šã¨ç›£è¦–
          - A/Bãƒ†ã‚¹ãƒˆå®Ÿæ–½
          - ROIæ¸¬å®š
          - ç¶™ç¶šæ”¹å–„ã‚µã‚¤ã‚¯ãƒ«
          
          ## ðŸ”§ æŠ€è¡“çš„æ³¨æ„äº‹é …
          - ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã®äº’æ›æ€§ç¢ºèª
          - èª­ã¿è¾¼ã¿é€Ÿåº¦ã®æœ€é©åŒ–
          - ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œã®æ¤œè¨¼
          - ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œ
          EOF
          
          # ZIPãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä½œæˆ
          cd .final-output && zip -r ../multimedia-campaign-package.zip . && cd ..
          
          echo "ðŸ“¦ Final campaign packaging completed"
          echo "Package includes:"
          echo "- Campaign strategy and creative concepts"
          echo "- $TOTAL_ASSETS multimedia assets"
          echo "- Cross-media optimization analysis"
          echo "- Quality assurance report (score: $CAMPAIGN_READINESS_SCORE/100)"
          echo "- Channel adaptation guidelines"
          echo "- Execution and measurement framework"
          echo "Package location: multimedia-campaign-package.zip"
          
    success_links:
      package_download: "${{ github.server_url }}/${{ github.repository }}/actions/runs/${{ github.run_id }}/artifacts"
      quality_report: "${{ github.server_url }}/${{ github.repository }}/blob/main/.final-output/optimization/quality-assurance-report.json"
      campaign_strategy: "${{ github.server_url }}/${{ github.repository }}/blob/main/.final-output/strategy/campaign-strategy.json"
      execution_guide: "${{ github.server_url }}/${{ github.repository }}/blob/main/.final-output/CAMPAIGN_EXECUTION_GUIDE.md"

    validation:
      criteria:
        - "ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³æˆ¦ç•¥ãŒç­–å®šã•ã‚Œã¦ã„ã‚‹"
        - "ãƒžãƒ«ãƒãƒ¡ãƒ‡ã‚£ã‚¢ç´ æãŒåˆ¶ä½œã•ã‚Œã¦ã„ã‚‹"
        - "å“è³ªä¿è¨¼ãŒå®Ÿæ–½ã•ã‚Œã¦ã„ã‚‹"
        - "é…ä¿¡ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹"
      validation_script: |
        if [ ! -f ".final-output/campaign-master-package.json" ]; then
          echo "âŒ VALIDATION FAILED: Campaign package missing"
          exit 1
        fi
        
        if [ "$LAUNCH_STATUS" = "ready" ]; then
          echo "âœ… Validation passed: Campaign ready for launch"
        elif [ "$LAUNCH_STATUS" = "almost_ready" ]; then
          echo "âš ï¸ WARNING: Minor adjustments recommended before launch"
        else
          echo "âŒ VALIDATION FAILED: Major work needed before campaign launch"
          exit 1
        fi