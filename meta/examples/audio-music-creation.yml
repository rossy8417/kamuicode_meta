name: "Audio Music Creation Workflow"
run-name: "ðŸŽµ Creating music: ${{ github.event.inputs.music_concept || 'Audio Music Creation' }}"

on:
  workflow_dispatch:
    inputs:
      music_concept:
        description: 'éŸ³æ¥½ã‚³ãƒ³ã‚»ãƒ—ãƒˆãƒ»ç”¨é€”'
        required: true
        default: 'ãƒªãƒ©ãƒƒã‚¯ã‚¹ã§ãã‚‹ã‚«ãƒ•ã‚§BGMã€ã‚¢ãƒƒãƒ—ãƒ†ãƒ³ãƒãªãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆç”¨éŸ³æ¥½'
        type: string
      music_genre:
        description: 'éŸ³æ¥½ã‚¸ãƒ£ãƒ³ãƒ«'
        required: true
        type: choice
        options:
        - ambient
        - electronic
        - classical
        - jazz
        - rock
        - pop
        - world
        - experimental
        default: 'ambient'
      mood_energy:
        description: 'ãƒ ãƒ¼ãƒ‰ãƒ»ã‚¨ãƒãƒ«ã‚®ãƒ¼'
        required: true
        type: choice
        options:
        - very_calm
        - relaxing
        - neutral
        - uplifting
        - energetic
        - intense
        default: 'relaxing'
      track_duration:
        description: 'æ¥½æ›²ã®é•·ã• (ç§’)'
        required: true
        default: '120'
        type: choice
        options:
        - '30'
        - '60'
        - '90'
        - '120'
        - '150'
        - '180'
        - '210'
        - '240'
        - '270'
        - '300'
      tempo_bpm:
        description: 'ãƒ†ãƒ³ãƒ (BPM)'
        required: true
        default: '120'
        type: choice
        options:
        - '60'
        - '70'
        - '80'
        - '90'
        - '100'
        - '110'
        - '120'
        - '130'
        - '140'
        - '150'
        - '160'
        - '170'
        - '180'
      musical_key:
        description: 'èª¿æ€§ãƒ»ã‚­ãƒ¼'
        required: true
        type: choice
        options:
        - c_major
        - g_major
        - d_major
        - a_minor
        - e_minor
        - f_major
        - auto
        default: 'auto'
      instrumentation:
        description: 'æ¥½å™¨ç·¨æˆ'
        required: true
        type: choice
        options:
        - solo_piano
        - string_ensemble
        - full_orchestra
        - electronic_synth
        - acoustic_guitar
        - mixed_ensemble
        default: 'mixed_ensemble'
      audio_quality:
        description: 'éŸ³éŸ¿å“è³ª'
        required: true
        type: choice
        options:
        - studio_master
        - high_fidelity
        - standard
        default: 'high_fidelity'

permissions:
  contents: write
  issues: read
  actions: read

env:
  CLAUDE_CODE_OAUTH_TOKEN: ${{ secrets.CLAUDE_CODE_OAUTH_TOKEN }}

jobs:
  # Phase 1: äº‹å‰ãƒ†ã‚¹ãƒˆæ®µéšŽ
  connectivity-test:
    runs-on: ubuntu-latest
    outputs:
      services_ready: ${{ steps.test.outputs.services_ready }}
      music_gen_available: ${{ steps.test.outputs.music_gen_available }}
      voice_available: ${{ steps.test.outputs.voice_available }}
    steps:
      - name: Test audio generation services
        id: test
        run: |
          echo "ðŸŽµ Testing audio generation services..."
          
          mkdir -p .logs/connectivity-tests
          
          # éŸ³æ¥½ç”Ÿæˆã‚µãƒ¼ãƒ“ã‚¹ãƒ†ã‚¹ãƒˆï¼ˆT2Mï¼‰
          echo "Testing music generation service..."
          if timeout 180 claude-code --mcp-config=.claude/mcp-kamuicode.json --mcp t2m-google-lyria --test > .logs/connectivity-tests/music-gen-test.log 2>&1; then
            MUSIC_GEN_STATUS="success"
            echo "âœ… Music Generation (Google Lyria): Available"
          else
            MUSIC_GEN_STATUS="failed"
            echo "âŒ Music Generation: Failed"
          fi
          
          # éŸ³å£°ç”Ÿæˆã‚µãƒ¼ãƒ“ã‚¹ãƒ†ã‚¹ãƒˆï¼ˆV2Aï¼‰
          echo "Testing voice generation service..."
          if timeout 90 claude-code --mcp-config=.claude/mcp-kamuicode.json --mcp v2a-fal-metavoice-v1 --test > .logs/connectivity-tests/voice-test.log 2>&1; then
            VOICE_GEN_STATUS="success"
            echo "âœ… Voice Generation (MetaVoice): Available"
          else
            VOICE_GEN_STATUS="failed"
            echo "âš ï¸ Voice Generation: Not available"
          fi
          
          # å‡ºåŠ›è¨­å®š
          echo "services_ready=true" >> $GITHUB_OUTPUT
          echo "music_gen_available=$MUSIC_GEN_STATUS" >> $GITHUB_OUTPUT
          echo "voice_available=$VOICE_GEN_STATUS" >> $GITHUB_OUTPUT
          
          echo "ðŸŽµ Audio services connectivity tests completed"

  # Phase 2: éŸ³æ¥½ã‚³ãƒ³ã‚»ãƒ—ãƒˆé–‹ç™ºæ®µéšŽ
  concept-development:
    needs: connectivity-test
    runs-on: ubuntu-latest
    outputs:
      concept_ready: ${{ steps.develop.outputs.concept_ready }}
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        
      - name: Develop music concept and specifications
        id: develop
        env:
          CLAUDE_CODE_OAUTH_TOKEN: ${{ secrets.CLAUDE_CODE_OAUTH_TOKEN }}
        run: |
          echo "ðŸŽ¯ Developing music concept and specifications..."
          
          mkdir -p .logs/music-concept
          
          # å…¥åŠ›ã‹ã‚‰éŸ³æ¥½è¦ä»¶ã‚’æŠ½å‡º
          MUSIC_CONCEPT="${{ github.event.inputs.music_concept }}"
          MUSIC_GENRE="${{ github.event.inputs.music_genre }}"
          MOOD_ENERGY="${{ github.event.inputs.mood_energy }}"
          INSTRUMENTATION="${{ github.event.inputs.instrumentation }}"
          
          echo "Music concept: $MUSIC_CONCEPT"
          echo "Genre: $MUSIC_GENRE"
          echo "Mood: $MOOD_ENERGY"
          echo "Instrumentation: $INSTRUMENTATION"
          
          # Claude Code ã§éŸ³æ¥½ã‚³ãƒ³ã‚»ãƒ—ãƒˆè¨­è¨ˆ
          claude-code --prompt "ä»¥ä¸‹ã®è¦ä»¶ã«åŸºã¥ã„ã¦ã€éŸ³æ¥½åˆ¶ä½œã®è©³ç´°ãªã‚³ãƒ³ã‚»ãƒ—ãƒˆã¨æŠ€è¡“ä»•æ§˜ã‚’è¨­è¨ˆã—ã¦ãã ã•ã„ï¼š
          
          éŸ³æ¥½ã‚³ãƒ³ã‚»ãƒ—ãƒˆ: $MUSIC_CONCEPT
          ã‚¸ãƒ£ãƒ³ãƒ«: $MUSIC_GENRE
          ãƒ ãƒ¼ãƒ‰ãƒ»ã‚¨ãƒãƒ«ã‚®ãƒ¼: $MOOD_ENERGY
          æ¥½å™¨ç·¨æˆ: $INSTRUMENTATION
          
          JSONå½¢å¼ã§éŸ³æ¥½ä»•æ§˜ã‚’è¿”ã—ã¦ãã ã•ã„ã€‚" > .logs/music-concept/music-concept.json
          
          echo "concept_ready=true" >> $GITHUB_OUTPUT
          echo "ðŸŽ¯ Music concept development completed"

  # Phase 3: æ¥½æ›²æ§‹æˆè¨­è¨ˆæ®µéšŽ
  composition-design:
    needs: concept-development
    runs-on: ubuntu-latest
    outputs:
      composition_ready: ${{ steps.design.outputs.composition_ready }}
    steps:
      - name: Design musical composition structure
        id: design
        env:
          CLAUDE_CODE_OAUTH_TOKEN: ${{ secrets.CLAUDE_CODE_OAUTH_TOKEN }}
        run: |
          echo "ðŸŽ¼ Designing musical composition structure..."
          
          mkdir -p .logs/composition-design
          
          TRACK_DURATION="${{ github.event.inputs.track_duration }}"
          TEMPO_BPM="${{ github.event.inputs.tempo_bpm }}"
          MUSICAL_KEY="${{ github.event.inputs.musical_key }}"
          
          echo "Duration: $TRACK_DURATION seconds"
          echo "Tempo: $TEMPO_BPM BPM"
          echo "Key: $MUSICAL_KEY"
          
          # æ¥½æ›²æ§‹æˆè¨­è¨ˆ
          claude-code --prompt "ä»¥ä¸‹ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«åŸºã¥ã„ã¦ã€è©³ç´°ãªæ¥½æ›²æ§‹æˆã‚’è¨­è¨ˆã—ã¦ãã ã•ã„ï¼š
          
          æ¥½æ›²ã®é•·ã•: $TRACK_DURATION ç§’
          ãƒ†ãƒ³ãƒ: $TEMPO_BPM BPM
          èª¿æ€§: $MUSICAL_KEY
          
          æ¥½æ›²ã®æ§‹é€ ã€ãƒãƒ¼ãƒ¢ãƒ‹ãƒ¼ã€ãƒªã‚ºãƒ ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å«ã‚€JSONå½¢å¼ã®æ§‹æˆã‚’è¿”ã—ã¦ãã ã•ã„ã€‚" > .logs/composition-design/composition-structure.json
          
          echo "composition_ready=true" >> $GITHUB_OUTPUT
          echo "ðŸŽ¼ Musical composition design completed"

  # Phase 4: éŸ³æ¥½ç”Ÿæˆæ®µéšŽ
  music-generation:
    needs: [connectivity-test, concept-development, composition-design]
    runs-on: ubuntu-latest
    outputs:
      generation_results: ${{ steps.generate.outputs.generation_results }}
    steps:
      - name: Generate primary music track
        id: generate
        env:
          CLAUDE_CODE_OAUTH_TOKEN: ${{ secrets.CLAUDE_CODE_OAUTH_TOKEN }}
        run: |
          echo "ðŸŽµ Generating primary music track..."
          
          mkdir -p .logs/music-generation
          
          MUSIC_GEN_AVAILABLE="${{ needs.connectivity-test.outputs.music_gen_available }}"
          MUSIC_CONCEPT="${{ github.event.inputs.music_concept }}"
          MUSIC_GENRE="${{ github.event.inputs.music_genre }}"
          MOOD_ENERGY="${{ github.event.inputs.mood_energy }}"
          TRACK_DURATION="${{ github.event.inputs.track_duration }}"
          
          if [ "$MUSIC_GEN_AVAILABLE" = "success" ]; then
            echo "Music generation service available - creating music..."
            
            # ãƒ¡ã‚¤ãƒ³æ¥½æ›²ç”Ÿæˆ
            echo "Generating primary music track..."
            MUSIC_PROMPT="Create $MUSIC_GENRE music with $MOOD_ENERGY mood, duration $TRACK_DURATION seconds, concept: $MUSIC_CONCEPT"
            
            if timeout 300 claude-code --mcp-config=.claude/mcp-kamuicode.json --mcp t2m-google-lyria --prompt "$MUSIC_PROMPT" --duration "$TRACK_DURATION" > .logs/music-generation/primary-track.json 2>&1; then
              echo "âœ… Primary music track generated successfully"
              PRIMARY_MUSIC_STATUS="success"
            else
              echo "âŒ Primary music generation failed"
              PRIMARY_MUSIC_STATUS="failed"
            fi
          else
            echo "âš ï¸ Music generation service not available"
            PRIMARY_MUSIC_STATUS="service_unavailable"
          fi
          
          # éŸ³æ¥½ç”Ÿæˆçµæžœã‚’ãƒ­ã‚°ä¿å­˜
          cat > .logs/music-generation/generation-log.json << EOF
          {
            "timestamp": "$(date -u +%Y-%m-%dT%H:%M:%SZ)",
            "primary_music_status": "$PRIMARY_MUSIC_STATUS",
            "generation_service_used": "$([ "$MUSIC_GEN_AVAILABLE" = "success" ] && echo "t2m-google-lyria" || echo "none")",
            "track_duration": $TRACK_DURATION,
            "music_genre": "$MUSIC_GENRE",
            "mood_energy": "$MOOD_ENERGY"
          }
          EOF
          
          echo "generation_results<<EOF" >> $GITHUB_OUTPUT
          cat .logs/music-generation/generation-log.json >> $GITHUB_OUTPUT
          echo "EOF" >> $GITHUB_OUTPUT
          
          echo "ðŸŽµ Primary music generation completed"

  # Phase 5: éŸ³éŸ¿å‡¦ç†ãƒ»æœ€é©åŒ–æ®µéšŽ
  audio-processing:
    needs: music-generation
    runs-on: ubuntu-latest
    outputs:
      processing_status: ${{ steps.process.outputs.processing_status }}
    steps:
      - name: Process and optimize audio quality
        id: process
        env:
          CLAUDE_CODE_OAUTH_TOKEN: ${{ secrets.CLAUDE_CODE_OAUTH_TOKEN }}
        run: |
          echo "ðŸŽšï¸ Processing and optimizing audio quality..."
          
          mkdir -p .logs/audio-processing
          
          GENERATION_RESULTS='${{ needs.music-generation.outputs.generation_results }}'
          AUDIO_QUALITY="${{ github.event.inputs.audio_quality }}"
          
          # éŸ³éŸ¿å‡¦ç†åˆ†æž
          claude-code --prompt "ä»¥ä¸‹ã®éŸ³æ¥½ç”Ÿæˆçµæžœã‚’åŸºã«ã€éŸ³éŸ¿å‡¦ç†ã¨å“è³ªæœ€é©åŒ–ã®è©³ç´°åˆ†æžã‚’è¡Œã£ã¦ãã ã•ã„ï¼š
          
          ç”Ÿæˆãƒ­ã‚°: $GENERATION_RESULTS
          éŸ³éŸ¿å“è³ª: $AUDIO_QUALITY
          
          JSONå½¢å¼ã§éŸ³éŸ¿å‡¦ç†æŽ¨å¥¨äº‹é …ã‚’è¿”ã—ã¦ãã ã•ã„ã€‚" > .logs/audio-processing/processing-analysis.json
          
          echo "processing_status=completed" >> $GITHUB_OUTPUT
          echo "ðŸŽšï¸ Audio processing completed"

  # Phase 6: ãƒŸã‚­ã‚·ãƒ³ã‚°ãƒ»ãƒžã‚¹ã‚¿ãƒªãƒ³ã‚°æ®µéšŽ
  mixing-mastering:
    needs: audio-processing
    runs-on: ubuntu-latest
    outputs:
      mixing_ready: ${{ steps.mix.outputs.mixing_ready }}
    steps:
      - name: Perform mixing and mastering
        id: mix
        env:
          CLAUDE_CODE_OAUTH_TOKEN: ${{ secrets.CLAUDE_CODE_OAUTH_TOKEN }}
        run: |
          echo "ðŸŽ›ï¸ Performing mixing and mastering..."
          
          mkdir -p .logs/mixing-mastering
          
          AUDIO_QUALITY="${{ github.event.inputs.audio_quality }}"
          TEMPO_BPM="${{ github.event.inputs.tempo_bpm }}"
          
          # ãƒŸã‚­ã‚·ãƒ³ã‚°ãƒ»ãƒžã‚¹ã‚¿ãƒªãƒ³ã‚°è¨­å®š
          claude-code --prompt "ä»¥ä¸‹ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«åŸºã¥ã„ã¦ã€æœ€é©ãªãƒŸã‚­ã‚·ãƒ³ã‚°ã¨ãƒžã‚¹ã‚¿ãƒªãƒ³ã‚°è¨­å®šã‚’è¨­è¨ˆã—ã¦ãã ã•ã„ï¼š
          
          éŸ³éŸ¿å“è³ª: $AUDIO_QUALITY
          ãƒ†ãƒ³ãƒ: $TEMPO_BPM BPM
          
          JSONå½¢å¼ã§ãƒŸã‚­ã‚·ãƒ³ã‚°ãƒ»ãƒžã‚¹ã‚¿ãƒªãƒ³ã‚°è¨­å®šã‚’è¿”ã—ã¦ãã ã•ã„ã€‚" > .logs/mixing-mastering/mixing-configuration.json
          
          echo "mixing_ready=true" >> $GITHUB_OUTPUT
          echo "ðŸŽ›ï¸ Mixing and mastering completed"

  # Phase 7: ãƒ•ã‚©ãƒ¼ãƒžãƒƒãƒˆãƒ»é…ä¿¡æº–å‚™æ®µéšŽ
  format-delivery:
    needs: [music-generation, audio-processing, mixing-mastering]
    runs-on: ubuntu-latest
    steps:
      - name: Prepare various audio formats for delivery
        env:
          CLAUDE_CODE_OAUTH_TOKEN: ${{ secrets.CLAUDE_CODE_OAUTH_TOKEN }}
        run: |
          echo "ðŸ“¦ Preparing various audio formats for delivery..."
          
          mkdir -p .logs/format-delivery
          
          AUDIO_QUALITY="${{ github.event.inputs.audio_quality }}"
          TRACK_DURATION="${{ github.event.inputs.track_duration }}"
          
          # ãƒ•ã‚©ãƒ¼ãƒžãƒƒãƒˆãƒ»é…ä¿¡æˆ¦ç•¥
          claude-code --prompt "ä»¥ä¸‹ã®éŸ³æ¥½ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±ã‚’åŸºã«ã€é…ä¿¡ãƒ•ã‚©ãƒ¼ãƒžãƒƒãƒˆã¨æœ€é©åŒ–æˆ¦ç•¥ã‚’è¨­è¨ˆã—ã¦ãã ã•ã„ï¼š
          
          éŸ³éŸ¿å“è³ª: $AUDIO_QUALITY
          æ¥½æ›²ã®é•·ã•: $TRACK_DURATION ç§’
          
          JSONå½¢å¼ã§é…ä¿¡æˆ¦ç•¥ã‚’è¿”ã—ã¦ãã ã•ã„ã€‚" > .logs/format-delivery/delivery-strategy.json
          
          echo "ðŸ“¦ Audio format delivery preparation completed"

  # Phase 8: æœ€çµ‚ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä½œæˆ
  final-packaging:
    needs: [concept-development, music-generation, audio-processing, mixing-mastering, format-delivery]
    runs-on: ubuntu-latest
    steps:
      - name: Create comprehensive audio project delivery package
        run: |
          echo "ðŸ“¦ Creating comprehensive audio project delivery package..."
          
          mkdir -p .final-output/{concept,generation,processing,mixing}
          
          # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ–‡æ›¸
          cp .logs/music-concept/music-concept.json .final-output/concept/ 2>/dev/null || true
          cp .logs/composition-design/composition-structure.json .final-output/concept/ 2>/dev/null || true
          
          # éŸ³æ¥½ç”Ÿæˆæˆæžœç‰©
          mkdir -p .final-output/generation/{tracks,analysis}
          cp .logs/music-generation/*.json .final-output/generation/tracks/ 2>/dev/null || true
          
          # éŸ³éŸ¿å‡¦ç†ãƒ»ãƒŸã‚­ã‚·ãƒ³ã‚°è³‡æ–™
          cp .logs/audio-processing/*.json .final-output/processing/ 2>/dev/null || true
          cp .logs/mixing-mastering/*.json .final-output/mixing/ 2>/dev/null || true
          cp .logs/format-delivery/*.json .final-output/mixing/ 2>/dev/null || true
          
          # ãƒžã‚¹ã‚¿ãƒ¼éŸ³æ¥½ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±
          cat > .final-output/music-project-master.json << EOF
          {
            "project_info": {
              "project_name": "Audio Music Creation",
              "created_at": "$(date -u +%Y-%m-%dT%H:%M:%SZ)",
              "github_run_id": "${{ github.run_id }}",
              "project_type": "music_audio_generation_and_production"
            },
            "input_parameters": {
              "music_concept": "${{ github.event.inputs.music_concept }}",
              "music_genre": "${{ github.event.inputs.music_genre }}",
              "mood_energy": "${{ github.event.inputs.mood_energy }}",
              "track_duration": ${{ github.event.inputs.track_duration }},
              "tempo_bpm": ${{ github.event.inputs.tempo_bpm }},
              "musical_key": "${{ github.event.inputs.musical_key }}",
              "instrumentation": "${{ github.event.inputs.instrumentation }}",
              "audio_quality": "${{ github.event.inputs.audio_quality }}"
            },
            "deliverables": {
              "concept_documents": {
                "music_concept": "concept/music-concept.json",
                "composition_structure": "concept/composition-structure.json"
              },
              "audio_assets": {
                "generated_tracks": "generation/tracks/",
                "analysis_reports": "generation/analysis/"
              },
              "production_reports": {
                "audio_processing": "processing/processing-analysis.json",
                "mixing_configuration": "mixing/mixing-configuration.json",
                "delivery_strategy": "mixing/delivery-strategy.json"
              }
            }
          }
          EOF
          
          # éŸ³æ¥½åˆ¶ä½œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¬ã‚¤ãƒ‰ã®ä½œæˆ
          cat > .final-output/MUSIC_PROJECT_GUIDE.md << 'EOF'
          # éŸ³æ¥½ãƒ»ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªåˆ¶ä½œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¬ã‚¤ãƒ‰
          
          ## ðŸŽµ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
          - åˆ¶ä½œæ‰‹æ³•: AIç”Ÿæˆã«ã‚ˆã‚‹éŸ³æ¥½ãƒ»ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªåˆ¶ä½œ
          - å“è³ªãƒ¬ãƒ™ãƒ«: ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«å¯¾å¿œ
          - æœ€é©åŒ–: ãƒžãƒ«ãƒãƒ•ã‚©ãƒ¼ãƒžãƒƒãƒˆå¯¾å¿œ
          
          ## ðŸŽ¯ æ¥½æ›²ä»•æ§˜
          - ã‚¸ãƒ£ãƒ³ãƒ«ãƒ»ãƒ ãƒ¼ãƒ‰è¨­å®š
          - æ¥½æ›²æ§‹æˆãƒ»ãƒãƒ¼ãƒ¢ãƒ‹ãƒ¼
          - æ¥½å™¨ç·¨æˆãƒ»éŸ³éŸ¿å“è³ª
          - ãƒ†ãƒ³ãƒãƒ»èª¿æ€§ãƒ»å°ºè¨­å®š
          
          ## ðŸŽ¨ åˆ¶ä½œæˆæžœç‰©
          - ãƒ¡ã‚¤ãƒ³æ¥½æ›²ãƒˆãƒ©ãƒƒã‚¯
          - ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒŸãƒƒã‚¯ã‚¹
          - éŸ³éŸ¿å‡¦ç†è¨­å®š
          - ãƒŸã‚­ã‚·ãƒ³ã‚°ãƒ»ãƒžã‚¹ã‚¿ãƒªãƒ³ã‚°è¨­å®š
          
          ## âš¡ éŸ³éŸ¿å‡¦ç†ãƒ»æœ€é©åŒ–
          - éŸ³è³ªæœ€é©åŒ–è¨­å®š
          - ãƒ•ã‚©ãƒ¼ãƒžãƒƒãƒˆåˆ¥æœ€é©åŒ–
          - é…ä¿¡ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å¯¾å¿œ
          - ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ãƒ»è‘—ä½œæ¨©æƒ…å ±
          
          ## ðŸš€ é…ä¿¡ãƒ»æ´»ç”¨
          - ãƒ•ã‚©ãƒ¼ãƒžãƒƒãƒˆå¤‰æ›ã‚¬ã‚¤ãƒ‰
          - ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ çµ±åˆæ‰‹é †
          - éŸ³éŸ¿è¨­å®šé©ç”¨
          - å“è³ªæ¤œè¨¼ãƒ—ãƒ­ã‚»ã‚¹
          EOF
          
          echo "ðŸ“¦ Final music project packaging completed"
          
      - name: Upload Music Project Package
        uses: actions/upload-artifact@v4
        with:
          name: music-project-package-${{ github.run_number }}
          path: .final-output/
          retention-days: 30