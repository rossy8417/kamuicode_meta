# Dynamic Stepback Question Generator

ユーザーのワークフロー要求を分析し、より精密なワークフロー生成のために必要な具体的質問を動的に生成してください。

## 分析対象のユーザー要求

{{USER_REQUEST}}

## 質問生成指示

以下の観点から、**ワークフロー設計**に関する不足している情報や曖昧な部分を特定し、3-5個の具体的な質問を生成してください：

**重要**: 完成したワークフローへの入力項目（コンテンツ、スタイル、具体的プロンプトなど）は避け、**ワークフローの構造・設計**に関する質問のみ生成してください。

### 1. **ワークフロー構造・アーキテクチャ**
- 処理方式の選択（単一処理 vs 複合処理）
- 入力形式対応（テキスト、画像、複数形式対応）
- 処理段階設計（一段階 vs 多段階 vs 動的選択）

### 2. **品質・パフォーマンス設計**
- 品質段階の設計（固定 vs 選択可能 vs 動的調整）
- 実行時間制限の設計（制限なし vs 段階的タイムアウト vs ユーザー指定）
- 並列処理設計（単一 vs 部分並列 vs 完全並列）

### 3. **エラー処理・フォールバック設計**
- エラー対応方式（即座停止 vs 自動リトライ vs 代替手法）
- フォールバック機能（サービス切り替え vs 品質ダウン vs 外部API）
- 復旧機能設計（再開 vs 再実行 vs 部分処理）

### 4. **出力・保存設計**
- 出力形式設計（単一固定 vs 複数同時 vs 選択可能）
- 保存方式設計（最終のみ vs 中間保持 vs 段階別選択）
- メタデータ設計（基本情報 vs 詳細情報 vs カスタム対応）

### 5. **拡張性・統合設計**
- 機能拡張設計（現在要件のみ vs プラグイン対応 vs API統合）
- ワークフロー連携（単独完結 vs 他ワークフロー連携 vs パイプライン対応）
- 監視・ログ設計（基本ログ vs 詳細監視 vs 外部システム連携）

## 必須出力形式

以下の形式で質問を生成し、**必ずファイルに保存**してください：

```bash
mkdir -p generated/metadata/stepback-analysis
cat > generated/metadata/stepback-analysis/generated-questions.md << 'EOF'
## 📋 ワークフロー詳細化のための質問

より正確で最適化されたワークフローを生成するために、以下の質問にお答えください：

**Q1: [ワークフロー構造・アーキテクチャ]**
[具体的な質問文]
**回答：**（ここに詳細をお書きください）

**Q2: [品質・パフォーマンス設計]**
[具体的な質問文]
**回答：**（ここに詳細をお書きください）

**Q3: [エラー処理・フォールバック設計]**
[具体的な質問文]
**回答：**（ここに詳細をお書きください）

**Q4: [出力・保存設計]** ※必要に応じて
[具体的な質問文]
**回答：**（ここに詳細をお書きください）

**Q5: [拡張性・統合設計]** ※必要に応じて
[具体的な質問文]
**回答：**（ここに詳細をお書きください）

---

### 📝 回答後の手順
1. 上記の質問に回答を記入
2. このIssueの本文を編集して、回答部分を追加
3. Issue保存後、自動的にワークフロー生成が開始されます

🤖 *Generated by Dynamic Stepback Question System*
EOF
```

## 質問生成のガイドライン

- **具体的で回答しやすい質問**にする
- **選択肢や例を提示**して回答を容易にする
- **必須情報と推奨情報を区別**する
- **ユーザーが「分からない」と答えても問題ない**質問構成にする
- **デフォルト値や推奨設定を併記**する

## 出力例

```markdown
**Q1: ワークフロー構造・アーキテクチャ**
動画生成ワークフローの基本構造をどのように設計しますか？
- 生成方式: T2V単一処理 / T2I→I2V複合処理 / 両方対応可能
- 入力形式: テキストのみ / 画像のみ / テキスト・画像両対応
- 処理段階: シンプル一段階 / 多段階品質向上 / 動的選択可能
**回答：**（ここに詳細をお書きください）
```

重要：生成した質問は必ず `generated/metadata/stepback-analysis/generated-questions.md` に保存してください。