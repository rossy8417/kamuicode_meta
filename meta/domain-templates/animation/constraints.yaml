# Rule references (domain rule files to load additionally)
rule_references:
  - path: "meta/domain-templates/animation/rules/task-breakdown.yaml"
    purpose: "Task decomposition into atomic steps"

# Checklist references (domain-specific MUST/SHOULD)
checklist_references:
  - path: "meta/domain-templates/animation/checklists/general.md"
    purpose: "MUST/SHOULD checklist for animation"
# ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åˆ¶ä½œã®åˆ¶ç´„æ¡ä»¶ã¨è¨ˆç®—å¼

# ğŸš¨ é‡è¦: ã‚·ãƒ¼ãƒ³æ•°è¨ˆç®—ã¯å¿…é ˆã§ã™
# ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®æµã‚Œã¨å“è³ªã‚’æ±ºå®šã™ã‚‹é‡è¦è¦ç´ 
timing_constraints:
  # ã‚·ãƒ¼ãƒ³æ•°è¨ˆç®— - ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®æ§‹æˆè¦ç´ 
  scene_calculation:
    importance: "CRITICAL - ã‚¹ãƒ ãƒ¼ã‚ºãªã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ†ãƒªãƒ³ã‚°ã«ä¸å¯æ¬ "
    formula: |
      total_scenes = ceil(duration_seconds / average_scene_length)
      where:
        - average_scene_length = 4.0 (3-5ç§’ã€ã‚«ãƒƒãƒˆå‰²ã‚ŠãŒå¤šã„ãŸã‚çŸ­ã‚)
        - buffer_scenes = ceil(total_scenes * 0.15) # 15%ã®äºˆå‚™ã‚·ãƒ¼ãƒ³
        - final_scene_count = total_scenes + buffer_scenes
    
    scene_types:
      - establishing_shot: "å ´é¢è¨­å®šï¼ˆ3-5ç§’ï¼‰"
      - action_sequence: "ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ï¼ˆ2-4ç§’ï¼‰"
      - reaction_shot: "ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚·ãƒ§ãƒƒãƒˆï¼ˆ1-2ç§’ï¼‰"
      - transition: "ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³ï¼ˆ0.5-1ç§’ï¼‰"
    
    examples:
      - "duration: 30s â†’ scenes: 8 + 2 = 10"
      - "duration: 60s â†’ scenes: 15 + 3 = 18"
      - "duration: 180s â†’ scenes: 45 + 7 = 52"
  
  # ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¬ãƒ¼ãƒˆè€ƒæ…®
  framerate_constraints:
    traditional_anime: "24fps (2ã‚³ãƒæ‰“ã¡ = å®Ÿè³ª12fps)"
    full_animation: "24-30fps"
    high_quality: "60fps"
    
    impact_on_scenes: |
      - ä½ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¬ãƒ¼ãƒˆ: ã‚ˆã‚Šé•·ã„ã‚·ãƒ¼ãƒ³å°ºãŒå¿…è¦
      - é«˜ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¬ãƒ¼ãƒˆ: çŸ­ã„ã‚«ãƒƒãƒˆã§ã‚‚è¦–èªå¯èƒ½

technical_constraints:
  # ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°åˆ¶ç´„
  rendering:
    max_concurrent_scenes: 3
    memory_per_scene: "2-4GB"
    time_per_scene: "30-120ç§’"
  
  # ã‚¹ã‚¿ã‚¤ãƒ«ä¸€è²«æ€§
  style_consistency:
    character_model: "å…¨ã‚·ãƒ¼ãƒ³ã§çµ±ä¸€å¿…é ˆ"
    color_palette: "äº‹å‰å®šç¾©å¿…é ˆ"
    motion_style: "ã‚¤ãƒ¼ã‚¸ãƒ³ã‚°ãƒ»ã‚¿ã‚¤ãƒŸãƒ³ã‚°çµ±ä¸€"

parallel_processing:
  # ãƒãƒƒãƒå‡¦ç†æˆ¦ç•¥
  scene_batching:
    strategy: "ä¾å­˜é–¢ä¿‚ã®ãªã„ã‚·ãƒ¼ãƒ³ã‚’ä¸¦åˆ—å‡¦ç†"
    max_parallel: 3
    grouping:
      - "èƒŒæ™¯ã‚·ãƒ§ãƒƒãƒˆ: ä¸¦åˆ—å¯èƒ½"
      - "ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³: é †æ¬¡å‡¦ç†æ¨å¥¨"
      - "ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ: æœ€å¾Œã«ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤"

quality_assurance:
  # ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å“è³ªåŸºæº–
  motion_quality:
    smoothness: "ãƒ•ãƒ¬ãƒ¼ãƒ é–“ã®é€£ç¶šæ€§"
    timing: "12åŸå‰‡ã®éµå®ˆ"
    appeal: "è¦–è¦šçš„é­…åŠ›"
  
  scene_review:
    - "å„ã‚·ãƒ¼ãƒ³ã®å‹•ãã®æµã‚Œ"
    - "ã‚·ãƒ¼ãƒ³é–“ã®ã¤ãªãŒã‚Š"
    - "å…¨ä½“ã®ãƒªã‚ºãƒ ã¨ãƒšãƒ¼ã‚¹"

failure_recovery:
  # ã‚·ãƒ¼ãƒ³å˜ä½ã®ãƒªã‚«ãƒãƒªãƒ¼
  scene_failure:
    detection: "ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°å¤±æ•—ã€å“è³ªä¸è¶³"
    recovery: "è©²å½“ã‚·ãƒ¼ãƒ³ã®ã¿å†ç”Ÿæˆ"
    fallback: "ç°¡æ˜“ç‰ˆã§ã®ä»£æ›¿"