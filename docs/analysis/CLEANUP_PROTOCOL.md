# 🏰 バルス - KAMUI完全リセットプロトコル

## 合言葉：`バルス`

Claude Codeセッションで「**バルス**」と発言すると、以下の完全クリーンアップが自動実行されます。

## 📝 保持対象ワークフロー（2025/01/26更新）

```
.github/workflows/
├── meta-workflow-executor-v8.yml       # メインのメタワークフロー生成システム（v8.1）
├── auto-fix-deployment.yml             # 自動修復システム  
├── continuous-system-monitor.yml       # 継続的監視システム
└── test-comment-trigger.yml            # コメントトリガーテストシステム
```

**注意：** 保持対象は変更される可能性があります。変更時は本ドキュメントを更新してください。

## 🔥 実行内容

### 1. ワークフローファイル削除
- `.github/workflows/` 内の保持対象以外のファイルを全削除
- 生成されたワークフロー、テストファイル等を削除

### 2. 生成データ削除（ログは保持）
- `generated/workflows/staging/` - アプローチ別生成結果（approach-1,2,3-result-*）
- `generated/workflows/production/` - 本番デプロイされたワークフロー群
- `generated/artifacts/` - 生成されたアーティファクト
- `generated/evaluation/` - 評価結果データ
- `generated/task-plans/` - タスクプランデータ
- **保持対象：** `generated/workflows/validated/validation-*.log`

### 3. GitHub Actions履歴削除
- 過去のworkflow runs完全削除
- 失敗したrunsも含めて全削除

### 4. GitHub Issues削除
- メタワークフロー生成で作成されたIssues削除
- workflow-request関連Issues削除

## 🔒 保持されるもの

### コアシステム
- 上記4つのワークフローファイル
- `meta/examples/` - ワークフローテンプレート群（9個のテンプレート）
- `meta/prompts/` - プロンプトファイル群（stepback分析含む）
- `script/` - スクリプトファイル群

### ドキュメント・設定
- `CLAUDE.md` - プロジェクト指示書
- `README.md` - プロジェクト説明
- `CLEANUP_PROTOCOL.md` - 本ファイル
- `.git/` - Git履歴

### ログファイル
- `generated/workflows/validated/validation-*.log` - 検証ログ

## ⚠️ 重要な注意事項

1. **不可逆操作** - GitHub Actions履歴とIssuesは復元不可能
2. **バックアップ推奨** - 重要なデータは事前にバックアップを取得
3. **コアシステム保持** - メタワークフロー生成システム本体は維持
4. **段階的実行** - エラー時は途中で停止し、問題を報告

## 🚀 使用方法

Claude Codeセッションで：

```
バルス
```

と発言するだけで、自動的に完全クリーンアップが実行されます。

## 📚 参考

- 合言葉は映画「天空の城ラピュタ」の滅びの呪文から
- 一瞬で生成されたデータを消し去る魔法の言葉として採用
- システム開発中の不要データ蓄積を定期的にリセットする目的

# 📁 整理整頓ガイドライン

## 🎯 整理の基本方針

### **プロジェクト中心主義**
- 内容別分類 → プロジェクト別分類に統一
- `projects/current-session/` を現在セッション用とする
- `projects/project-name/` で過去プロジェクトを管理

### **重複解消原則**
- 同じ用途のディレクトリは統合（`downloads/` + `generated/` → `projects/`）
- 1ファイルだけのディレクトリは上位に移動（`meta/prompts/templates/` → `meta/prompts/`）
- 空ディレクトリは削除（`docs/system-analysis/`）

### **シンプル構造原則**
- 過度なサブディレクトリは避ける（`active/staging/archive/` → フラット構造）
- ディレクトリ階層は最大3レベルまで
- 一時的ディレクトリは `temp-*` などを避け、適切な場所に配置

## 📋 整理対象の判定基準

### **🔴 削除対象**
1. **一時的デバッグディレクトリ** (`v4-debug/`, `temp-*`)
2. **重複機能のディレクトリ** (`downloads/` when `projects/` exists)  
3. **1ファイルだけのディレクトリ**
4. **空ディレクトリ**
5. **使用されていないスクリプト** (参照されていない)

### **🟡 統合対象**
1. **同じ用途の複数ディレクトリ**
2. **散らばった同種ファイル**
3. **深すぎるディレクトリ階層**

### **🟢 保持対象**
1. **システム必須ファイル** (`CLAUDE.md`, `README.md`)
2. **設定ファイル** (`.claude/`, `requirements.txt`)
3. **参照されているファイル/ディレクトリ**
4. **汎用ツール** (`scripts/` 内の再利用可能なもの)

## 🛠️ 実行時の確認項目

### **整理前チェック**
- [ ] ファイル参照の確認（grep等で使用箇所を検索）
- [ ] CLAUDE.mdでの参照チェック
- [ ] ワークフローでの参照チェック

### **整理後更新**
- [ ] CLAUDE.mdのパス参照更新
- [ ] ワークフローのパス更新
- [ ] README等のドキュメント更新

### **整理実施記録**
- [ ] 何を統合/削除したかを記録
- [ ] 新しい構造を文書化
- [ ] 今後の参考のため基準を明文化

---

**🤖 Generated by Kamui Rossy Meta Workflow System**  
**⚡ Protocol Version: 1.2**  
**📅 Last Updated: 2025/07/28**  
**🔄 Updated for: プロジェクト中心型ディレクトリ構造 + 整理整頓ガイドライン追加**